/*
 * QTPy
 * http://qtpy.mobi
 *
 * Copyright 2010, John Driscoll
 *
 * Contains:
 * jQuery (http://jquery.com), Copyright John Resig
 * Raphael (http://raphaeljs.com), Copyright Dmitry Baranovskiy
 */
 
 (function(A,w){function ma(){if(!c.isReady){try{s.documentElement.doScroll("left")}catch(a){setTimeout(ma,1);return}c.ready()}}function Qa(a,b){b.src?c.ajax({url:b.src,async:false,dataType:"script"}):c.globalEval(b.text||b.textContent||b.innerHTML||"");b.parentNode&&b.parentNode.removeChild(b)}function X(a,b,d,f,e,i){var j=a.length;if(typeof b==="object"){for(var o in b)X(a,o,b[o],f,e,d);return a}if(d!==w){f=!i&&f&&c.isFunction(d);for(o=0;o<j;o++)e(a[o],b,f?d.call(a[o],o,e(a[o],b)):d,i);return a}return j?
e(a[0],b):w}function J(){return(new Date).getTime()}function Y(){return false}function Z(){return true}function na(a,b,d){d[0].type=a;return c.event.handle.apply(b,d)}function oa(a){var b,d=[],f=[],e=arguments,i,j,o,k,n,r;j=c.data(this,"events");if(!(a.liveFired===this||!j||!j.live||a.button&&a.type==="click")){a.liveFired=this;var u=j.live.slice(0);for(k=0;k<u.length;k++){j=u[k];j.origType.replace(O,"")===a.type?f.push(j.selector):u.splice(k--,1)}i=c(a.target).closest(f,a.currentTarget);n=0;for(r=
i.length;n<r;n++)for(k=0;k<u.length;k++){j=u[k];if(i[n].selector===j.selector){o=i[n].elem;f=null;if(j.preType==="mouseenter"||j.preType==="mouseleave")f=c(a.relatedTarget).closest(j.selector)[0];if(!f||f!==o)d.push({elem:o,handleObj:j})}}n=0;for(r=d.length;n<r;n++){i=d[n];a.currentTarget=i.elem;a.data=i.handleObj.data;a.handleObj=i.handleObj;if(i.handleObj.origHandler.apply(i.elem,e)===false){b=false;break}}return b}}function pa(a,b){return"live."+(a&&a!=="*"?a+".":"")+b.replace(/\./g,"`").replace(/ /g,
"&")}function qa(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function ra(a,b){var d=0;b.each(function(){if(this.nodeName===(a[d]&&a[d].nodeName)){var f=c.data(a[d++]),e=c.data(this,f);if(f=f&&f.events){delete e.handle;e.events={};for(var i in f)for(var j in f[i])c.event.add(this,i,f[i][j],f[i][j].data)}}})}function sa(a,b,d){var f,e,i;b=b&&b[0]?b[0].ownerDocument||b[0]:s;if(a.length===1&&typeof a[0]==="string"&&a[0].length<512&&b===s&&!ta.test(a[0])&&(c.support.checkClone||!ua.test(a[0]))){e=
true;if(i=c.fragments[a[0]])if(i!==1)f=i}if(!f){f=b.createDocumentFragment();c.clean(a,b,f,d)}if(e)c.fragments[a[0]]=i?f:1;return{fragment:f,cacheable:e}}function K(a,b){var d={};c.each(va.concat.apply([],va.slice(0,b)),function(){d[this]=a});return d}function wa(a){return"scrollTo"in a&&a.document?a:a.nodeType===9?a.defaultView||a.parentWindow:false}var c=function(a,b){return new c.fn.init(a,b)},Ra=A.jQuery,Sa=A.$,s=A.document,T,Ta=/^[^<]*(<[\w\W]+>)[^>]*$|^#([\w-]+)$/,Ua=/^.[^:#\[\.,]*$/,Va=/\S/,
Wa=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,Xa=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,P=navigator.userAgent,xa=false,Q=[],L,$=Object.prototype.toString,aa=Object.prototype.hasOwnProperty,ba=Array.prototype.push,R=Array.prototype.slice,ya=Array.prototype.indexOf;c.fn=c.prototype={init:function(a,b){var d,f;if(!a)return this;if(a.nodeType){this.context=this[0]=a;this.length=1;return this}if(a==="body"&&!b){this.context=s;this[0]=s.body;this.selector="body";this.length=1;return this}if(typeof a==="string")if((d=Ta.exec(a))&&
(d[1]||!b))if(d[1]){f=b?b.ownerDocument||b:s;if(a=Xa.exec(a))if(c.isPlainObject(b)){a=[s.createElement(a[1])];c.fn.attr.call(a,b,true)}else a=[f.createElement(a[1])];else{a=sa([d[1]],[f]);a=(a.cacheable?a.fragment.cloneNode(true):a.fragment).childNodes}return c.merge(this,a)}else{if(b=s.getElementById(d[2])){if(b.id!==d[2])return T.find(a);this.length=1;this[0]=b}this.context=s;this.selector=a;return this}else if(!b&&/^\w+$/.test(a)){this.selector=a;this.context=s;a=s.getElementsByTagName(a);return c.merge(this,
a)}else return!b||b.jquery?(b||T).find(a):c(b).find(a);else if(c.isFunction(a))return T.ready(a);if(a.selector!==w){this.selector=a.selector;this.context=a.context}return c.makeArray(a,this)},selector:"",jquery:"1.4.2",length:0,size:function(){return this.length},toArray:function(){return R.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this.slice(a)[0]:this[a]},pushStack:function(a,b,d){var f=c();c.isArray(a)?ba.apply(f,a):c.merge(f,a);f.prevObject=this;f.context=this.context;if(b===
"find")f.selector=this.selector+(this.selector?" ":"")+d;else if(b)f.selector=this.selector+"."+b+"("+d+")";return f},each:function(a,b){return c.each(this,a,b)},ready:function(a){c.bindReady();if(c.isReady)a.call(s,c);else Q&&Q.push(a);return this},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(R.apply(this,arguments),"slice",R.call(arguments).join(","))},map:function(a){return this.pushStack(c.map(this,
function(b,d){return a.call(b,d,b)}))},end:function(){return this.prevObject||c(null)},push:ba,sort:[].sort,splice:[].splice};c.fn.init.prototype=c.fn;c.extend=c.fn.extend=function(){var a=arguments[0]||{},b=1,d=arguments.length,f=false,e,i,j,o;if(typeof a==="boolean"){f=a;a=arguments[1]||{};b=2}if(typeof a!=="object"&&!c.isFunction(a))a={};if(d===b){a=this;--b}for(;b<d;b++)if((e=arguments[b])!=null)for(i in e){j=a[i];o=e[i];if(a!==o)if(f&&o&&(c.isPlainObject(o)||c.isArray(o))){j=j&&(c.isPlainObject(j)||
c.isArray(j))?j:c.isArray(o)?[]:{};a[i]=c.extend(f,j,o)}else if(o!==w)a[i]=o}return a};c.extend({noConflict:function(a){A.$=Sa;if(a)A.jQuery=Ra;return c},isReady:false,ready:function(){if(!c.isReady){if(!s.body)return setTimeout(c.ready,13);c.isReady=true;if(Q){for(var a,b=0;a=Q[b++];)a.call(s,c);Q=null}c.fn.triggerHandler&&c(s).triggerHandler("ready")}},bindReady:function(){if(!xa){xa=true;if(s.readyState==="complete")return c.ready();if(s.addEventListener){s.addEventListener("DOMContentLoaded",
L,false);A.addEventListener("load",c.ready,false)}else if(s.attachEvent){s.attachEvent("onreadystatechange",L);A.attachEvent("onload",c.ready);var a=false;try{a=A.frameElement==null}catch(b){}s.documentElement.doScroll&&a&&ma()}}},isFunction:function(a){return $.call(a)==="[object Function]"},isArray:function(a){return $.call(a)==="[object Array]"},isPlainObject:function(a){if(!a||$.call(a)!=="[object Object]"||a.nodeType||a.setInterval)return false;if(a.constructor&&!aa.call(a,"constructor")&&!aa.call(a.constructor.prototype,
"isPrototypeOf"))return false;var b;for(b in a);return b===w||aa.call(a,b)},isEmptyObject:function(a){for(var b in a)return false;return true},error:function(a){throw a;},parseJSON:function(a){if(typeof a!=="string"||!a)return null;a=c.trim(a);if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return A.JSON&&A.JSON.parse?A.JSON.parse(a):(new Function("return "+
a))();else c.error("Invalid JSON: "+a)},noop:function(){},globalEval:function(a){if(a&&Va.test(a)){var b=s.getElementsByTagName("head")[0]||s.documentElement,d=s.createElement("script");d.type="text/javascript";if(c.support.scriptEval)d.appendChild(s.createTextNode(a));else d.text=a;b.insertBefore(d,b.firstChild);b.removeChild(d)}},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,b,d){var f,e=0,i=a.length,j=i===w||c.isFunction(a);if(d)if(j)for(f in a){if(b.apply(a[f],
d)===false)break}else for(;e<i;){if(b.apply(a[e++],d)===false)break}else if(j)for(f in a){if(b.call(a[f],f,a[f])===false)break}else for(d=a[0];e<i&&b.call(d,e,d)!==false;d=a[++e]);return a},trim:function(a){return(a||"").replace(Wa,"")},makeArray:function(a,b){b=b||[];if(a!=null)a.length==null||typeof a==="string"||c.isFunction(a)||typeof a!=="function"&&a.setInterval?ba.call(b,a):c.merge(b,a);return b},inArray:function(a,b){if(b.indexOf)return b.indexOf(a);for(var d=0,f=b.length;d<f;d++)if(b[d]===
a)return d;return-1},merge:function(a,b){var d=a.length,f=0;if(typeof b.length==="number")for(var e=b.length;f<e;f++)a[d++]=b[f];else for(;b[f]!==w;)a[d++]=b[f++];a.length=d;return a},grep:function(a,b,d){for(var f=[],e=0,i=a.length;e<i;e++)!d!==!b(a[e],e)&&f.push(a[e]);return f},map:function(a,b,d){for(var f=[],e,i=0,j=a.length;i<j;i++){e=b(a[i],i,d);if(e!=null)f[f.length]=e}return f.concat.apply([],f)},guid:1,proxy:function(a,b,d){if(arguments.length===2)if(typeof b==="string"){d=a;a=d[b];b=w}else if(b&&
!c.isFunction(b)){d=b;b=w}if(!b&&a)b=function(){return a.apply(d||this,arguments)};if(a)b.guid=a.guid=a.guid||b.guid||c.guid++;return b},uaMatch:function(a){a=a.toLowerCase();a=/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||!/compatible/.test(a)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},browser:{}});P=c.uaMatch(P);if(P.browser){c.browser[P.browser]=true;c.browser.version=P.version}if(c.browser.webkit)c.browser.safari=
true;if(ya)c.inArray=function(a,b){return ya.call(b,a)};T=c(s);if(s.addEventListener)L=function(){s.removeEventListener("DOMContentLoaded",L,false);c.ready()};else if(s.attachEvent)L=function(){if(s.readyState==="complete"){s.detachEvent("onreadystatechange",L);c.ready()}};(function(){c.support={};var a=s.documentElement,b=s.createElement("script"),d=s.createElement("div"),f="script"+J();d.style.display="none";d.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";
var e=d.getElementsByTagName("*"),i=d.getElementsByTagName("a")[0];if(!(!e||!e.length||!i)){c.support={leadingWhitespace:d.firstChild.nodeType===3,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/red/.test(i.getAttribute("style")),hrefNormalized:i.getAttribute("href")==="/a",opacity:/^0.55$/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:d.getElementsByTagName("input")[0].value==="on",optSelected:s.createElement("select").appendChild(s.createElement("option")).selected,
parentNode:d.removeChild(d.appendChild(s.createElement("div"))).parentNode===null,deleteExpando:true,checkClone:false,scriptEval:false,noCloneEvent:true,boxModel:null};b.type="text/javascript";try{b.appendChild(s.createTextNode("window."+f+"=1;"))}catch(j){}a.insertBefore(b,a.firstChild);if(A[f]){c.support.scriptEval=true;delete A[f]}try{delete b.test}catch(o){c.support.deleteExpando=false}a.removeChild(b);if(d.attachEvent&&d.fireEvent){d.attachEvent("onclick",function k(){c.support.noCloneEvent=
false;d.detachEvent("onclick",k)});d.cloneNode(true).fireEvent("onclick")}d=s.createElement("div");d.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";a=s.createDocumentFragment();a.appendChild(d.firstChild);c.support.checkClone=a.cloneNode(true).cloneNode(true).lastChild.checked;c(function(){var k=s.createElement("div");k.style.width=k.style.paddingLeft="1px";s.body.appendChild(k);c.boxModel=c.support.boxModel=k.offsetWidth===2;s.body.removeChild(k).style.display="none"});a=function(k){var n=
s.createElement("div");k="on"+k;var r=k in n;if(!r){n.setAttribute(k,"return;");r=typeof n[k]==="function"}return r};c.support.submitBubbles=a("submit");c.support.changeBubbles=a("change");a=b=d=e=i=null}})();c.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};var G="jQuery"+J(),Ya=0,za={};c.extend({cache:{},expando:G,noData:{embed:true,object:true,
applet:true},data:function(a,b,d){if(!(a.nodeName&&c.noData[a.nodeName.toLowerCase()])){a=a==A?za:a;var f=a[G],e=c.cache;if(!f&&typeof b==="string"&&d===w)return null;f||(f=++Ya);if(typeof b==="object"){a[G]=f;e[f]=c.extend(true,{},b)}else if(!e[f]){a[G]=f;e[f]={}}a=e[f];if(d!==w)a[b]=d;return typeof b==="string"?a[b]:a}},removeData:function(a,b){if(!(a.nodeName&&c.noData[a.nodeName.toLowerCase()])){a=a==A?za:a;var d=a[G],f=c.cache,e=f[d];if(b){if(e){delete e[b];c.isEmptyObject(e)&&c.removeData(a)}}else{if(c.support.deleteExpando)delete a[c.expando];
else a.removeAttribute&&a.removeAttribute(c.expando);delete f[d]}}}});c.fn.extend({data:function(a,b){if(typeof a==="undefined"&&this.length)return c.data(this[0]);else if(typeof a==="object")return this.each(function(){c.data(this,a)});var d=a.split(".");d[1]=d[1]?"."+d[1]:"";if(b===w){var f=this.triggerHandler("getData"+d[1]+"!",[d[0]]);if(f===w&&this.length)f=c.data(this[0],a);return f===w&&d[1]?this.data(d[0]):f}else return this.trigger("setData"+d[1]+"!",[d[0],b]).each(function(){c.data(this,
a,b)})},removeData:function(a){return this.each(function(){c.removeData(this,a)})}});c.extend({queue:function(a,b,d){if(a){b=(b||"fx")+"queue";var f=c.data(a,b);if(!d)return f||[];if(!f||c.isArray(d))f=c.data(a,b,c.makeArray(d));else f.push(d);return f}},dequeue:function(a,b){b=b||"fx";var d=c.queue(a,b),f=d.shift();if(f==="inprogress")f=d.shift();if(f){b==="fx"&&d.unshift("inprogress");f.call(a,function(){c.dequeue(a,b)})}}});c.fn.extend({queue:function(a,b){if(typeof a!=="string"){b=a;a="fx"}if(b===
w)return c.queue(this[0],a);return this.each(function(){var d=c.queue(this,a,b);a==="fx"&&d[0]!=="inprogress"&&c.dequeue(this,a)})},dequeue:function(a){return this.each(function(){c.dequeue(this,a)})},delay:function(a,b){a=c.fx?c.fx.speeds[a]||a:a;b=b||"fx";return this.queue(b,function(){var d=this;setTimeout(function(){c.dequeue(d,b)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])}});var Aa=/[\n\t]/g,ca=/\s+/,Za=/\r/g,$a=/href|src|style/,ab=/(button|input)/i,bb=/(button|input|object|select|textarea)/i,
cb=/^(a|area)$/i,Ba=/radio|checkbox/;c.fn.extend({attr:function(a,b){return X(this,a,b,true,c.attr)},removeAttr:function(a){return this.each(function(){c.attr(this,a,"");this.nodeType===1&&this.removeAttribute(a)})},addClass:function(a){if(c.isFunction(a))return this.each(function(n){var r=c(this);r.addClass(a.call(this,n,r.attr("class")))});if(a&&typeof a==="string")for(var b=(a||"").split(ca),d=0,f=this.length;d<f;d++){var e=this[d];if(e.nodeType===1)if(e.className){for(var i=" "+e.className+" ",
j=e.className,o=0,k=b.length;o<k;o++)if(i.indexOf(" "+b[o]+" ")<0)j+=" "+b[o];e.className=c.trim(j)}else e.className=a}return this},removeClass:function(a){if(c.isFunction(a))return this.each(function(k){var n=c(this);n.removeClass(a.call(this,k,n.attr("class")))});if(a&&typeof a==="string"||a===w)for(var b=(a||"").split(ca),d=0,f=this.length;d<f;d++){var e=this[d];if(e.nodeType===1&&e.className)if(a){for(var i=(" "+e.className+" ").replace(Aa," "),j=0,o=b.length;j<o;j++)i=i.replace(" "+b[j]+" ",
" ");e.className=c.trim(i)}else e.className=""}return this},toggleClass:function(a,b){var d=typeof a,f=typeof b==="boolean";if(c.isFunction(a))return this.each(function(e){var i=c(this);i.toggleClass(a.call(this,e,i.attr("class"),b),b)});return this.each(function(){if(d==="string")for(var e,i=0,j=c(this),o=b,k=a.split(ca);e=k[i++];){o=f?o:!j.hasClass(e);j[o?"addClass":"removeClass"](e)}else if(d==="undefined"||d==="boolean"){this.className&&c.data(this,"__className__",this.className);this.className=
this.className||a===false?"":c.data(this,"__className__")||""}})},hasClass:function(a){a=" "+a+" ";for(var b=0,d=this.length;b<d;b++)if((" "+this[b].className+" ").replace(Aa," ").indexOf(a)>-1)return true;return false},val:function(a){if(a===w){var b=this[0];if(b){if(c.nodeName(b,"option"))return(b.attributes.value||{}).specified?b.value:b.text;if(c.nodeName(b,"select")){var d=b.selectedIndex,f=[],e=b.options;b=b.type==="select-one";if(d<0)return null;var i=b?d:0;for(d=b?d+1:e.length;i<d;i++){var j=
e[i];if(j.selected){a=c(j).val();if(b)return a;f.push(a)}}return f}if(Ba.test(b.type)&&!c.support.checkOn)return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(Za,"")}return w}var o=c.isFunction(a);return this.each(function(k){var n=c(this),r=a;if(this.nodeType===1){if(o)r=a.call(this,k,n.val());if(typeof r==="number")r+="";if(c.isArray(r)&&Ba.test(this.type))this.checked=c.inArray(n.val(),r)>=0;else if(c.nodeName(this,"select")){var u=c.makeArray(r);c("option",this).each(function(){this.selected=
c.inArray(c(this).val(),u)>=0});if(!u.length)this.selectedIndex=-1}else this.value=r}})}});c.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(a,b,d,f){if(!a||a.nodeType===3||a.nodeType===8)return w;if(f&&b in c.attrFn)return c(a)[b](d);f=a.nodeType!==1||!c.isXMLDoc(a);var e=d!==w;b=f&&c.props[b]||b;if(a.nodeType===1){var i=$a.test(b);if(b in a&&f&&!i){if(e){b==="type"&&ab.test(a.nodeName)&&a.parentNode&&c.error("type property can't be changed");
a[b]=d}if(c.nodeName(a,"form")&&a.getAttributeNode(b))return a.getAttributeNode(b).nodeValue;if(b==="tabIndex")return(b=a.getAttributeNode("tabIndex"))&&b.specified?b.value:bb.test(a.nodeName)||cb.test(a.nodeName)&&a.href?0:w;return a[b]}if(!c.support.style&&f&&b==="style"){if(e)a.style.cssText=""+d;return a.style.cssText}e&&a.setAttribute(b,""+d);a=!c.support.hrefNormalized&&f&&i?a.getAttribute(b,2):a.getAttribute(b);return a===null?w:a}return c.style(a,b,d)}});var O=/\.(.*)$/,db=function(a){return a.replace(/[^\w\s\.\|`]/g,
function(b){return"\\"+b})};c.event={add:function(a,b,d,f){if(!(a.nodeType===3||a.nodeType===8)){if(a.setInterval&&a!==A&&!a.frameElement)a=A;var e,i;if(d.handler){e=d;d=e.handler}if(!d.guid)d.guid=c.guid++;if(i=c.data(a)){var j=i.events=i.events||{},o=i.handle;if(!o)i.handle=o=function(){return typeof c!=="undefined"&&!c.event.triggered?c.event.handle.apply(o.elem,arguments):w};o.elem=a;b=b.split(" ");for(var k,n=0,r;k=b[n++];){i=e?c.extend({},e):{handler:d,data:f};if(k.indexOf(".")>-1){r=k.split(".");
k=r.shift();i.namespace=r.slice(0).sort().join(".")}else{r=[];i.namespace=""}i.type=k;i.guid=d.guid;var u=j[k],z=c.event.special[k]||{};if(!u){u=j[k]=[];if(!z.setup||z.setup.call(a,f,r,o)===false)if(a.addEventListener)a.addEventListener(k,o,false);else a.attachEvent&&a.attachEvent("on"+k,o)}if(z.add){z.add.call(a,i);if(!i.handler.guid)i.handler.guid=d.guid}u.push(i);c.event.global[k]=true}a=null}}},global:{},remove:function(a,b,d,f){if(!(a.nodeType===3||a.nodeType===8)){var e,i=0,j,o,k,n,r,u,z=c.data(a),
C=z&&z.events;if(z&&C){if(b&&b.type){d=b.handler;b=b.type}if(!b||typeof b==="string"&&b.charAt(0)==="."){b=b||"";for(e in C)c.event.remove(a,e+b)}else{for(b=b.split(" ");e=b[i++];){n=e;j=e.indexOf(".")<0;o=[];if(!j){o=e.split(".");e=o.shift();k=new RegExp("(^|\\.)"+c.map(o.slice(0).sort(),db).join("\\.(?:.*\\.)?")+"(\\.|$)")}if(r=C[e])if(d){n=c.event.special[e]||{};for(B=f||0;B<r.length;B++){u=r[B];if(d.guid===u.guid){if(j||k.test(u.namespace)){f==null&&r.splice(B--,1);n.remove&&n.remove.call(a,u)}if(f!=
null)break}}if(r.length===0||f!=null&&r.length===1){if(!n.teardown||n.teardown.call(a,o)===false)Ca(a,e,z.handle);delete C[e]}}else for(var B=0;B<r.length;B++){u=r[B];if(j||k.test(u.namespace)){c.event.remove(a,n,u.handler,B);r.splice(B--,1)}}}if(c.isEmptyObject(C)){if(b=z.handle)b.elem=null;delete z.events;delete z.handle;c.isEmptyObject(z)&&c.removeData(a)}}}}},trigger:function(a,b,d,f){var e=a.type||a;if(!f){a=typeof a==="object"?a[G]?a:c.extend(c.Event(e),a):c.Event(e);if(e.indexOf("!")>=0){a.type=
e=e.slice(0,-1);a.exclusive=true}if(!d){a.stopPropagation();c.event.global[e]&&c.each(c.cache,function(){this.events&&this.events[e]&&c.event.trigger(a,b,this.handle.elem)})}if(!d||d.nodeType===3||d.nodeType===8)return w;a.result=w;a.target=d;b=c.makeArray(b);b.unshift(a)}a.currentTarget=d;(f=c.data(d,"handle"))&&f.apply(d,b);f=d.parentNode||d.ownerDocument;try{if(!(d&&d.nodeName&&c.noData[d.nodeName.toLowerCase()]))if(d["on"+e]&&d["on"+e].apply(d,b)===false)a.result=false}catch(i){}if(!a.isPropagationStopped()&&
f)c.event.trigger(a,b,f,true);else if(!a.isDefaultPrevented()){f=a.target;var j,o=c.nodeName(f,"a")&&e==="click",k=c.event.special[e]||{};if((!k._default||k._default.call(d,a)===false)&&!o&&!(f&&f.nodeName&&c.noData[f.nodeName.toLowerCase()])){try{if(f[e]){if(j=f["on"+e])f["on"+e]=null;c.event.triggered=true;f[e]()}}catch(n){}if(j)f["on"+e]=j;c.event.triggered=false}}},handle:function(a){var b,d,f,e;a=arguments[0]=c.event.fix(a||A.event);a.currentTarget=this;b=a.type.indexOf(".")<0&&!a.exclusive;
if(!b){d=a.type.split(".");a.type=d.shift();f=new RegExp("(^|\\.)"+d.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)")}e=c.data(this,"events");d=e[a.type];if(e&&d){d=d.slice(0);e=0;for(var i=d.length;e<i;e++){var j=d[e];if(b||f.test(j.namespace)){a.handler=j.handler;a.data=j.data;a.handleObj=j;j=j.handler.apply(this,arguments);if(j!==w){a.result=j;if(j===false){a.preventDefault();a.stopPropagation()}}if(a.isImmediatePropagationStopped())break}}}return a.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(a){if(a[G])return a;var b=a;a=c.Event(b);for(var d=this.props.length,f;d;){f=this.props[--d];a[f]=b[f]}if(!a.target)a.target=a.srcElement||s;if(a.target.nodeType===3)a.target=a.target.parentNode;if(!a.relatedTarget&&a.fromElement)a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement;if(a.pageX==null&&a.clientX!=null){b=s.documentElement;d=s.body;a.pageX=a.clientX+(b&&b.scrollLeft||d&&d.scrollLeft||0)-(b&&b.clientLeft||d&&d.clientLeft||0);a.pageY=a.clientY+(b&&b.scrollTop||
d&&d.scrollTop||0)-(b&&b.clientTop||d&&d.clientTop||0)}if(!a.which&&(a.charCode||a.charCode===0?a.charCode:a.keyCode))a.which=a.charCode||a.keyCode;if(!a.metaKey&&a.ctrlKey)a.metaKey=a.ctrlKey;if(!a.which&&a.button!==w)a.which=a.button&1?1:a.button&2?3:a.button&4?2:0;return a},guid:1E8,proxy:c.proxy,special:{ready:{setup:c.bindReady,teardown:c.noop},live:{add:function(a){c.event.add(this,a.origType,c.extend({},a,{handler:oa}))},remove:function(a){var b=true,d=a.origType.replace(O,"");c.each(c.data(this,
"events").live||[],function(){if(d===this.origType.replace(O,""))return b=false});b&&c.event.remove(this,a.origType,oa)}},beforeunload:{setup:function(a,b,d){if(this.setInterval)this.onbeforeunload=d;return false},teardown:function(a,b){if(this.onbeforeunload===b)this.onbeforeunload=null}}}};var Ca=s.removeEventListener?function(a,b,d){a.removeEventListener(b,d,false)}:function(a,b,d){a.detachEvent("on"+b,d)};c.Event=function(a){if(!this.preventDefault)return new c.Event(a);if(a&&a.type){this.originalEvent=
a;this.type=a.type}else this.type=a;this.timeStamp=J();this[G]=true};c.Event.prototype={preventDefault:function(){this.isDefaultPrevented=Z;var a=this.originalEvent;if(a){a.preventDefault&&a.preventDefault();a.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=Z;var a=this.originalEvent;if(a){a.stopPropagation&&a.stopPropagation();a.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Z;this.stopPropagation()},isDefaultPrevented:Y,isPropagationStopped:Y,
isImmediatePropagationStopped:Y};var Da=function(a){var b=a.relatedTarget;try{for(;b&&b!==this;)b=b.parentNode;if(b!==this){a.type=a.data;c.event.handle.apply(this,arguments)}}catch(d){}},Ea=function(a){a.type=a.data;c.event.handle.apply(this,arguments)};c.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){c.event.special[a]={setup:function(d){c.event.add(this,b,d&&d.selector?Ea:Da,a)},teardown:function(d){c.event.remove(this,b,d&&d.selector?Ea:Da)}}});if(!c.support.submitBubbles)c.event.special.submit=
{setup:function(){if(this.nodeName.toLowerCase()!=="form"){c.event.add(this,"click.specialSubmit",function(a){var b=a.target,d=b.type;if((d==="submit"||d==="image")&&c(b).closest("form").length)return na("submit",this,arguments)});c.event.add(this,"keypress.specialSubmit",function(a){var b=a.target,d=b.type;if((d==="text"||d==="password")&&c(b).closest("form").length&&a.keyCode===13)return na("submit",this,arguments)})}else return false},teardown:function(){c.event.remove(this,".specialSubmit")}};
if(!c.support.changeBubbles){var da=/textarea|input|select/i,ea,Fa=function(a){var b=a.type,d=a.value;if(b==="radio"||b==="checkbox")d=a.checked;else if(b==="select-multiple")d=a.selectedIndex>-1?c.map(a.options,function(f){return f.selected}).join("-"):"";else if(a.nodeName.toLowerCase()==="select")d=a.selectedIndex;return d},fa=function(a,b){var d=a.target,f,e;if(!(!da.test(d.nodeName)||d.readOnly)){f=c.data(d,"_change_data");e=Fa(d);if(a.type!=="focusout"||d.type!=="radio")c.data(d,"_change_data",
e);if(!(f===w||e===f))if(f!=null||e){a.type="change";return c.event.trigger(a,b,d)}}};c.event.special.change={filters:{focusout:fa,click:function(a){var b=a.target,d=b.type;if(d==="radio"||d==="checkbox"||b.nodeName.toLowerCase()==="select")return fa.call(this,a)},keydown:function(a){var b=a.target,d=b.type;if(a.keyCode===13&&b.nodeName.toLowerCase()!=="textarea"||a.keyCode===32&&(d==="checkbox"||d==="radio")||d==="select-multiple")return fa.call(this,a)},beforeactivate:function(a){a=a.target;c.data(a,
"_change_data",Fa(a))}},setup:function(){if(this.type==="file")return false;for(var a in ea)c.event.add(this,a+".specialChange",ea[a]);return da.test(this.nodeName)},teardown:function(){c.event.remove(this,".specialChange");return da.test(this.nodeName)}};ea=c.event.special.change.filters}s.addEventListener&&c.each({focus:"focusin",blur:"focusout"},function(a,b){function d(f){f=c.event.fix(f);f.type=b;return c.event.handle.call(this,f)}c.event.special[b]={setup:function(){this.addEventListener(a,
d,true)},teardown:function(){this.removeEventListener(a,d,true)}}});c.each(["bind","one"],function(a,b){c.fn[b]=function(d,f,e){if(typeof d==="object"){for(var i in d)this[b](i,f,d[i],e);return this}if(c.isFunction(f)){e=f;f=w}var j=b==="one"?c.proxy(e,function(k){c(this).unbind(k,j);return e.apply(this,arguments)}):e;if(d==="unload"&&b!=="one")this.one(d,f,e);else{i=0;for(var o=this.length;i<o;i++)c.event.add(this[i],d,j,f)}return this}});c.fn.extend({unbind:function(a,b){if(typeof a==="object"&&
!a.preventDefault)for(var d in a)this.unbind(d,a[d]);else{d=0;for(var f=this.length;d<f;d++)c.event.remove(this[d],a,b)}return this},delegate:function(a,b,d,f){return this.live(b,d,f,a)},undelegate:function(a,b,d){return arguments.length===0?this.unbind("live"):this.die(b,null,d,a)},trigger:function(a,b){return this.each(function(){c.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0]){a=c.Event(a);a.preventDefault();a.stopPropagation();c.event.trigger(a,b,this[0]);return a.result}},
toggle:function(a){for(var b=arguments,d=1;d<b.length;)c.proxy(a,b[d++]);return this.click(c.proxy(a,function(f){var e=(c.data(this,"lastToggle"+a.guid)||0)%d;c.data(this,"lastToggle"+a.guid,e+1);f.preventDefault();return b[e].apply(this,arguments)||false}))},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var Ga={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};c.each(["live","die"],function(a,b){c.fn[b]=function(d,f,e,i){var j,o=0,k,n,r=i||this.selector,
u=i?this:c(this.context);if(c.isFunction(f)){e=f;f=w}for(d=(d||"").split(" ");(j=d[o++])!=null;){i=O.exec(j);k="";if(i){k=i[0];j=j.replace(O,"")}if(j==="hover")d.push("mouseenter"+k,"mouseleave"+k);else{n=j;if(j==="focus"||j==="blur"){d.push(Ga[j]+k);j+=k}else j=(Ga[j]||j)+k;b==="live"?u.each(function(){c.event.add(this,pa(j,r),{data:f,selector:r,handler:e,origType:j,origHandler:e,preType:n})}):u.unbind(pa(j,r),e)}}return this}});c.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),
function(a,b){c.fn[b]=function(d){return d?this.bind(b,d):this.trigger(b)};if(c.attrFn)c.attrFn[b]=true});A.attachEvent&&!A.addEventListener&&A.attachEvent("onunload",function(){for(var a in c.cache)if(c.cache[a].handle)try{c.event.remove(c.cache[a].handle.elem)}catch(b){}});(function(){function a(g){for(var h="",l,m=0;g[m];m++){l=g[m];if(l.nodeType===3||l.nodeType===4)h+=l.nodeValue;else if(l.nodeType!==8)h+=a(l.childNodes)}return h}function b(g,h,l,m,q,p){q=0;for(var v=m.length;q<v;q++){var t=m[q];
if(t){t=t[g];for(var y=false;t;){if(t.sizcache===l){y=m[t.sizset];break}if(t.nodeType===1&&!p){t.sizcache=l;t.sizset=q}if(t.nodeName.toLowerCase()===h){y=t;break}t=t[g]}m[q]=y}}}function d(g,h,l,m,q,p){q=0;for(var v=m.length;q<v;q++){var t=m[q];if(t){t=t[g];for(var y=false;t;){if(t.sizcache===l){y=m[t.sizset];break}if(t.nodeType===1){if(!p){t.sizcache=l;t.sizset=q}if(typeof h!=="string"){if(t===h){y=true;break}}else if(k.filter(h,[t]).length>0){y=t;break}}t=t[g]}m[q]=y}}}var f=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
e=0,i=Object.prototype.toString,j=false,o=true;[0,0].sort(function(){o=false;return 0});var k=function(g,h,l,m){l=l||[];var q=h=h||s;if(h.nodeType!==1&&h.nodeType!==9)return[];if(!g||typeof g!=="string")return l;for(var p=[],v,t,y,S,H=true,M=x(h),I=g;(f.exec(""),v=f.exec(I))!==null;){I=v[3];p.push(v[1]);if(v[2]){S=v[3];break}}if(p.length>1&&r.exec(g))if(p.length===2&&n.relative[p[0]])t=ga(p[0]+p[1],h);else for(t=n.relative[p[0]]?[h]:k(p.shift(),h);p.length;){g=p.shift();if(n.relative[g])g+=p.shift();
t=ga(g,t)}else{if(!m&&p.length>1&&h.nodeType===9&&!M&&n.match.ID.test(p[0])&&!n.match.ID.test(p[p.length-1])){v=k.find(p.shift(),h,M);h=v.expr?k.filter(v.expr,v.set)[0]:v.set[0]}if(h){v=m?{expr:p.pop(),set:z(m)}:k.find(p.pop(),p.length===1&&(p[0]==="~"||p[0]==="+")&&h.parentNode?h.parentNode:h,M);t=v.expr?k.filter(v.expr,v.set):v.set;if(p.length>0)y=z(t);else H=false;for(;p.length;){var D=p.pop();v=D;if(n.relative[D])v=p.pop();else D="";if(v==null)v=h;n.relative[D](y,v,M)}}else y=[]}y||(y=t);y||k.error(D||
g);if(i.call(y)==="[object Array]")if(H)if(h&&h.nodeType===1)for(g=0;y[g]!=null;g++){if(y[g]&&(y[g]===true||y[g].nodeType===1&&E(h,y[g])))l.push(t[g])}else for(g=0;y[g]!=null;g++)y[g]&&y[g].nodeType===1&&l.push(t[g]);else l.push.apply(l,y);else z(y,l);if(S){k(S,q,l,m);k.uniqueSort(l)}return l};k.uniqueSort=function(g){if(B){j=o;g.sort(B);if(j)for(var h=1;h<g.length;h++)g[h]===g[h-1]&&g.splice(h--,1)}return g};k.matches=function(g,h){return k(g,null,null,h)};k.find=function(g,h,l){var m,q;if(!g)return[];
for(var p=0,v=n.order.length;p<v;p++){var t=n.order[p];if(q=n.leftMatch[t].exec(g)){var y=q[1];q.splice(1,1);if(y.substr(y.length-1)!=="\\"){q[1]=(q[1]||"").replace(/\\/g,"");m=n.find[t](q,h,l);if(m!=null){g=g.replace(n.match[t],"");break}}}}m||(m=h.getElementsByTagName("*"));return{set:m,expr:g}};k.filter=function(g,h,l,m){for(var q=g,p=[],v=h,t,y,S=h&&h[0]&&x(h[0]);g&&h.length;){for(var H in n.filter)if((t=n.leftMatch[H].exec(g))!=null&&t[2]){var M=n.filter[H],I,D;D=t[1];y=false;t.splice(1,1);if(D.substr(D.length-
1)!=="\\"){if(v===p)p=[];if(n.preFilter[H])if(t=n.preFilter[H](t,v,l,p,m,S)){if(t===true)continue}else y=I=true;if(t)for(var U=0;(D=v[U])!=null;U++)if(D){I=M(D,t,U,v);var Ha=m^!!I;if(l&&I!=null)if(Ha)y=true;else v[U]=false;else if(Ha){p.push(D);y=true}}if(I!==w){l||(v=p);g=g.replace(n.match[H],"");if(!y)return[];break}}}if(g===q)if(y==null)k.error(g);else break;q=g}return v};k.error=function(g){throw"Syntax error, unrecognized expression: "+g;};var n=k.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,
CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(g){return g.getAttribute("href")}},
relative:{"+":function(g,h){var l=typeof h==="string",m=l&&!/\W/.test(h);l=l&&!m;if(m)h=h.toLowerCase();m=0;for(var q=g.length,p;m<q;m++)if(p=g[m]){for(;(p=p.previousSibling)&&p.nodeType!==1;);g[m]=l||p&&p.nodeName.toLowerCase()===h?p||false:p===h}l&&k.filter(h,g,true)},">":function(g,h){var l=typeof h==="string";if(l&&!/\W/.test(h)){h=h.toLowerCase();for(var m=0,q=g.length;m<q;m++){var p=g[m];if(p){l=p.parentNode;g[m]=l.nodeName.toLowerCase()===h?l:false}}}else{m=0;for(q=g.length;m<q;m++)if(p=g[m])g[m]=
l?p.parentNode:p.parentNode===h;l&&k.filter(h,g,true)}},"":function(g,h,l){var m=e++,q=d;if(typeof h==="string"&&!/\W/.test(h)){var p=h=h.toLowerCase();q=b}q("parentNode",h,m,g,p,l)},"~":function(g,h,l){var m=e++,q=d;if(typeof h==="string"&&!/\W/.test(h)){var p=h=h.toLowerCase();q=b}q("previousSibling",h,m,g,p,l)}},find:{ID:function(g,h,l){if(typeof h.getElementById!=="undefined"&&!l)return(g=h.getElementById(g[1]))?[g]:[]},NAME:function(g,h){if(typeof h.getElementsByName!=="undefined"){var l=[];
h=h.getElementsByName(g[1]);for(var m=0,q=h.length;m<q;m++)h[m].getAttribute("name")===g[1]&&l.push(h[m]);return l.length===0?null:l}},TAG:function(g,h){return h.getElementsByTagName(g[1])}},preFilter:{CLASS:function(g,h,l,m,q,p){g=" "+g[1].replace(/\\/g,"")+" ";if(p)return g;p=0;for(var v;(v=h[p])!=null;p++)if(v)if(q^(v.className&&(" "+v.className+" ").replace(/[\t\n]/g," ").indexOf(g)>=0))l||m.push(v);else if(l)h[p]=false;return false},ID:function(g){return g[1].replace(/\\/g,"")},TAG:function(g){return g[1].toLowerCase()},
CHILD:function(g){if(g[1]==="nth"){var h=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(g[2]==="even"&&"2n"||g[2]==="odd"&&"2n+1"||!/\D/.test(g[2])&&"0n+"+g[2]||g[2]);g[2]=h[1]+(h[2]||1)-0;g[3]=h[3]-0}g[0]=e++;return g},ATTR:function(g,h,l,m,q,p){h=g[1].replace(/\\/g,"");if(!p&&n.attrMap[h])g[1]=n.attrMap[h];if(g[2]==="~=")g[4]=" "+g[4]+" ";return g},PSEUDO:function(g,h,l,m,q){if(g[1]==="not")if((f.exec(g[3])||"").length>1||/^\w/.test(g[3]))g[3]=k(g[3],null,null,h);else{g=k.filter(g[3],h,l,true^q);l||m.push.apply(m,
g);return false}else if(n.match.POS.test(g[0])||n.match.CHILD.test(g[0]))return true;return g},POS:function(g){g.unshift(true);return g}},filters:{enabled:function(g){return g.disabled===false&&g.type!=="hidden"},disabled:function(g){return g.disabled===true},checked:function(g){return g.checked===true},selected:function(g){return g.selected===true},parent:function(g){return!!g.firstChild},empty:function(g){return!g.firstChild},has:function(g,h,l){return!!k(l[3],g).length},header:function(g){return/h\d/i.test(g.nodeName)},
text:function(g){return"text"===g.type},radio:function(g){return"radio"===g.type},checkbox:function(g){return"checkbox"===g.type},file:function(g){return"file"===g.type},password:function(g){return"password"===g.type},submit:function(g){return"submit"===g.type},image:function(g){return"image"===g.type},reset:function(g){return"reset"===g.type},button:function(g){return"button"===g.type||g.nodeName.toLowerCase()==="button"},input:function(g){return/input|select|textarea|button/i.test(g.nodeName)}},
setFilters:{first:function(g,h){return h===0},last:function(g,h,l,m){return h===m.length-1},even:function(g,h){return h%2===0},odd:function(g,h){return h%2===1},lt:function(g,h,l){return h<l[3]-0},gt:function(g,h,l){return h>l[3]-0},nth:function(g,h,l){return l[3]-0===h},eq:function(g,h,l){return l[3]-0===h}},filter:{PSEUDO:function(g,h,l,m){var q=h[1],p=n.filters[q];if(p)return p(g,l,h,m);else if(q==="contains")return(g.textContent||g.innerText||a([g])||"").indexOf(h[3])>=0;else if(q==="not"){h=
h[3];l=0;for(m=h.length;l<m;l++)if(h[l]===g)return false;return true}else k.error("Syntax error, unrecognized expression: "+q)},CHILD:function(g,h){var l=h[1],m=g;switch(l){case "only":case "first":for(;m=m.previousSibling;)if(m.nodeType===1)return false;if(l==="first")return true;m=g;case "last":for(;m=m.nextSibling;)if(m.nodeType===1)return false;return true;case "nth":l=h[2];var q=h[3];if(l===1&&q===0)return true;h=h[0];var p=g.parentNode;if(p&&(p.sizcache!==h||!g.nodeIndex)){var v=0;for(m=p.firstChild;m;m=
m.nextSibling)if(m.nodeType===1)m.nodeIndex=++v;p.sizcache=h}g=g.nodeIndex-q;return l===0?g===0:g%l===0&&g/l>=0}},ID:function(g,h){return g.nodeType===1&&g.getAttribute("id")===h},TAG:function(g,h){return h==="*"&&g.nodeType===1||g.nodeName.toLowerCase()===h},CLASS:function(g,h){return(" "+(g.className||g.getAttribute("class"))+" ").indexOf(h)>-1},ATTR:function(g,h){var l=h[1];g=n.attrHandle[l]?n.attrHandle[l](g):g[l]!=null?g[l]:g.getAttribute(l);l=g+"";var m=h[2];h=h[4];return g==null?m==="!=":m===
"="?l===h:m==="*="?l.indexOf(h)>=0:m==="~="?(" "+l+" ").indexOf(h)>=0:!h?l&&g!==false:m==="!="?l!==h:m==="^="?l.indexOf(h)===0:m==="$="?l.substr(l.length-h.length)===h:m==="|="?l===h||l.substr(0,h.length+1)===h+"-":false},POS:function(g,h,l,m){var q=n.setFilters[h[2]];if(q)return q(g,l,h,m)}}},r=n.match.POS;for(var u in n.match){n.match[u]=new RegExp(n.match[u].source+/(?![^\[]*\])(?![^\(]*\))/.source);n.leftMatch[u]=new RegExp(/(^(?:.|\r|\n)*?)/.source+n.match[u].source.replace(/\\(\d+)/g,function(g,
h){return"\\"+(h-0+1)}))}var z=function(g,h){g=Array.prototype.slice.call(g,0);if(h){h.push.apply(h,g);return h}return g};try{Array.prototype.slice.call(s.documentElement.childNodes,0)}catch(C){z=function(g,h){h=h||[];if(i.call(g)==="[object Array]")Array.prototype.push.apply(h,g);else if(typeof g.length==="number")for(var l=0,m=g.length;l<m;l++)h.push(g[l]);else for(l=0;g[l];l++)h.push(g[l]);return h}}var B;if(s.documentElement.compareDocumentPosition)B=function(g,h){if(!g.compareDocumentPosition||
!h.compareDocumentPosition){if(g==h)j=true;return g.compareDocumentPosition?-1:1}g=g.compareDocumentPosition(h)&4?-1:g===h?0:1;if(g===0)j=true;return g};else if("sourceIndex"in s.documentElement)B=function(g,h){if(!g.sourceIndex||!h.sourceIndex){if(g==h)j=true;return g.sourceIndex?-1:1}g=g.sourceIndex-h.sourceIndex;if(g===0)j=true;return g};else if(s.createRange)B=function(g,h){if(!g.ownerDocument||!h.ownerDocument){if(g==h)j=true;return g.ownerDocument?-1:1}var l=g.ownerDocument.createRange(),m=
h.ownerDocument.createRange();l.setStart(g,0);l.setEnd(g,0);m.setStart(h,0);m.setEnd(h,0);g=l.compareBoundaryPoints(Range.START_TO_END,m);if(g===0)j=true;return g};(function(){var g=s.createElement("div"),h="script"+(new Date).getTime();g.innerHTML="<a name='"+h+"'/>";var l=s.documentElement;l.insertBefore(g,l.firstChild);if(s.getElementById(h)){n.find.ID=function(m,q,p){if(typeof q.getElementById!=="undefined"&&!p)return(q=q.getElementById(m[1]))?q.id===m[1]||typeof q.getAttributeNode!=="undefined"&&
q.getAttributeNode("id").nodeValue===m[1]?[q]:w:[]};n.filter.ID=function(m,q){var p=typeof m.getAttributeNode!=="undefined"&&m.getAttributeNode("id");return m.nodeType===1&&p&&p.nodeValue===q}}l.removeChild(g);l=g=null})();(function(){var g=s.createElement("div");g.appendChild(s.createComment(""));if(g.getElementsByTagName("*").length>0)n.find.TAG=function(h,l){l=l.getElementsByTagName(h[1]);if(h[1]==="*"){h=[];for(var m=0;l[m];m++)l[m].nodeType===1&&h.push(l[m]);l=h}return l};g.innerHTML="<a href='#'></a>";
if(g.firstChild&&typeof g.firstChild.getAttribute!=="undefined"&&g.firstChild.getAttribute("href")!=="#")n.attrHandle.href=function(h){return h.getAttribute("href",2)};g=null})();s.querySelectorAll&&function(){var g=k,h=s.createElement("div");h.innerHTML="<p class='TEST'></p>";if(!(h.querySelectorAll&&h.querySelectorAll(".TEST").length===0)){k=function(m,q,p,v){q=q||s;if(!v&&q.nodeType===9&&!x(q))try{return z(q.querySelectorAll(m),p)}catch(t){}return g(m,q,p,v)};for(var l in g)k[l]=g[l];h=null}}();
(function(){var g=s.createElement("div");g.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!g.getElementsByClassName||g.getElementsByClassName("e").length===0)){g.lastChild.className="e";if(g.getElementsByClassName("e").length!==1){n.order.splice(1,0,"CLASS");n.find.CLASS=function(h,l,m){if(typeof l.getElementsByClassName!=="undefined"&&!m)return l.getElementsByClassName(h[1])};g=null}}})();var E=s.compareDocumentPosition?function(g,h){return!!(g.compareDocumentPosition(h)&16)}:
function(g,h){return g!==h&&(g.contains?g.contains(h):true)},x=function(g){return(g=(g?g.ownerDocument||g:0).documentElement)?g.nodeName!=="HTML":false},ga=function(g,h){var l=[],m="",q;for(h=h.nodeType?[h]:h;q=n.match.PSEUDO.exec(g);){m+=q[0];g=g.replace(n.match.PSEUDO,"")}g=n.relative[g]?g+"*":g;q=0;for(var p=h.length;q<p;q++)k(g,h[q],l);return k.filter(m,l)};c.find=k;c.expr=k.selectors;c.expr[":"]=c.expr.filters;c.unique=k.uniqueSort;c.text=a;c.isXMLDoc=x;c.contains=E})();var eb=/Until$/,fb=/^(?:parents|prevUntil|prevAll)/,
gb=/,/;R=Array.prototype.slice;var Ia=function(a,b,d){if(c.isFunction(b))return c.grep(a,function(e,i){return!!b.call(e,i,e)===d});else if(b.nodeType)return c.grep(a,function(e){return e===b===d});else if(typeof b==="string"){var f=c.grep(a,function(e){return e.nodeType===1});if(Ua.test(b))return c.filter(b,f,!d);else b=c.filter(b,f)}return c.grep(a,function(e){return c.inArray(e,b)>=0===d})};c.fn.extend({find:function(a){for(var b=this.pushStack("","find",a),d=0,f=0,e=this.length;f<e;f++){d=b.length;
c.find(a,this[f],b);if(f>0)for(var i=d;i<b.length;i++)for(var j=0;j<d;j++)if(b[j]===b[i]){b.splice(i--,1);break}}return b},has:function(a){var b=c(a);return this.filter(function(){for(var d=0,f=b.length;d<f;d++)if(c.contains(this,b[d]))return true})},not:function(a){return this.pushStack(Ia(this,a,false),"not",a)},filter:function(a){return this.pushStack(Ia(this,a,true),"filter",a)},is:function(a){return!!a&&c.filter(a,this).length>0},closest:function(a,b){if(c.isArray(a)){var d=[],f=this[0],e,i=
{},j;if(f&&a.length){e=0;for(var o=a.length;e<o;e++){j=a[e];i[j]||(i[j]=c.expr.match.POS.test(j)?c(j,b||this.context):j)}for(;f&&f.ownerDocument&&f!==b;){for(j in i){e=i[j];if(e.jquery?e.index(f)>-1:c(f).is(e)){d.push({selector:j,elem:f});delete i[j]}}f=f.parentNode}}return d}var k=c.expr.match.POS.test(a)?c(a,b||this.context):null;return this.map(function(n,r){for(;r&&r.ownerDocument&&r!==b;){if(k?k.index(r)>-1:c(r).is(a))return r;r=r.parentNode}return null})},index:function(a){if(!a||typeof a===
"string")return c.inArray(this[0],a?c(a):this.parent().children());return c.inArray(a.jquery?a[0]:a,this)},add:function(a,b){a=typeof a==="string"?c(a,b||this.context):c.makeArray(a);b=c.merge(this.get(),a);return this.pushStack(qa(a[0])||qa(b[0])?b:c.unique(b))},andSelf:function(){return this.add(this.prevObject)}});c.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return c.dir(a,"parentNode")},parentsUntil:function(a,b,d){return c.dir(a,"parentNode",
d)},next:function(a){return c.nth(a,2,"nextSibling")},prev:function(a){return c.nth(a,2,"previousSibling")},nextAll:function(a){return c.dir(a,"nextSibling")},prevAll:function(a){return c.dir(a,"previousSibling")},nextUntil:function(a,b,d){return c.dir(a,"nextSibling",d)},prevUntil:function(a,b,d){return c.dir(a,"previousSibling",d)},siblings:function(a){return c.sibling(a.parentNode.firstChild,a)},children:function(a){return c.sibling(a.firstChild)},contents:function(a){return c.nodeName(a,"iframe")?
a.contentDocument||a.contentWindow.document:c.makeArray(a.childNodes)}},function(a,b){c.fn[a]=function(d,f){var e=c.map(this,b,d);eb.test(a)||(f=d);if(f&&typeof f==="string")e=c.filter(f,e);e=this.length>1?c.unique(e):e;if((this.length>1||gb.test(f))&&fb.test(a))e=e.reverse();return this.pushStack(e,a,R.call(arguments).join(","))}});c.extend({filter:function(a,b,d){if(d)a=":not("+a+")";return c.find.matches(a,b)},dir:function(a,b,d){var f=[];for(a=a[b];a&&a.nodeType!==9&&(d===w||a.nodeType!==1||!c(a).is(d));){a.nodeType===
1&&f.push(a);a=a[b]}return f},nth:function(a,b,d){b=b||1;for(var f=0;a;a=a[d])if(a.nodeType===1&&++f===b)break;return a},sibling:function(a,b){for(var d=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&d.push(a);return d}});var Ja=/ jQuery\d+="(?:\d+|null)"/g,V=/^\s+/,Ka=/(<([\w:]+)[^>]*?)\/>/g,hb=/^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i,La=/<([\w:]+)/,ib=/<tbody/i,jb=/<|&#?\w+;/,ta=/<script|<object|<embed|<option|<style/i,ua=/checked\s*(?:[^=]|=\s*.checked.)/i,Ma=function(a,b,d){return hb.test(d)?
a:b+"></"+d+">"},F={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};F.optgroup=F.option;F.tbody=F.tfoot=F.colgroup=F.caption=F.thead;F.th=F.td;if(!c.support.htmlSerialize)F._default=[1,"div<div>","</div>"];c.fn.extend({text:function(a){if(c.isFunction(a))return this.each(function(b){var d=
c(this);d.text(a.call(this,b,d.text()))});if(typeof a!=="object"&&a!==w)return this.empty().append((this[0]&&this[0].ownerDocument||s).createTextNode(a));return c.text(this)},wrapAll:function(a){if(c.isFunction(a))return this.each(function(d){c(this).wrapAll(a.call(this,d))});if(this[0]){var b=c(a,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var d=this;d.firstChild&&d.firstChild.nodeType===1;)d=d.firstChild;return d}).append(this)}return this},
wrapInner:function(a){if(c.isFunction(a))return this.each(function(b){c(this).wrapInner(a.call(this,b))});return this.each(function(){var b=c(this),d=b.contents();d.length?d.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){c(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){c.nodeName(this,"body")||c(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.appendChild(a)})},
prepend:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,this)});else if(arguments.length){var a=c(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,
this.nextSibling)});else if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,c(arguments[0]).toArray());return a}},remove:function(a,b){for(var d=0,f;(f=this[d])!=null;d++)if(!a||c.filter(a,[f]).length){if(!b&&f.nodeType===1){c.cleanData(f.getElementsByTagName("*"));c.cleanData([f])}f.parentNode&&f.parentNode.removeChild(f)}return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++)for(b.nodeType===1&&c.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);
return this},clone:function(a){var b=this.map(function(){if(!c.support.noCloneEvent&&!c.isXMLDoc(this)){var d=this.outerHTML,f=this.ownerDocument;if(!d){d=f.createElement("div");d.appendChild(this.cloneNode(true));d=d.innerHTML}return c.clean([d.replace(Ja,"").replace(/=([^="'>\s]+\/)>/g,'="$1">').replace(V,"")],f)[0]}else return this.cloneNode(true)});if(a===true){ra(this,b);ra(this.find("*"),b.find("*"))}return b},html:function(a){if(a===w)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Ja,
""):null;else if(typeof a==="string"&&!ta.test(a)&&(c.support.leadingWhitespace||!V.test(a))&&!F[(La.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ka,Ma);try{for(var b=0,d=this.length;b<d;b++)if(this[b].nodeType===1){c.cleanData(this[b].getElementsByTagName("*"));this[b].innerHTML=a}}catch(f){this.empty().append(a)}}else c.isFunction(a)?this.each(function(e){var i=c(this),j=i.html();i.empty().append(function(){return a.call(this,e,j)})}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&
this[0].parentNode){if(c.isFunction(a))return this.each(function(b){var d=c(this),f=d.html();d.replaceWith(a.call(this,b,f))});if(typeof a!=="string")a=c(a).detach();return this.each(function(){var b=this.nextSibling,d=this.parentNode;c(this).remove();b?c(b).before(a):c(d).append(a)})}else return this.pushStack(c(c.isFunction(a)?a():a),"replaceWith",a)},detach:function(a){return this.remove(a,true)},domManip:function(a,b,d){function f(u){return c.nodeName(u,"table")?u.getElementsByTagName("tbody")[0]||
u.appendChild(u.ownerDocument.createElement("tbody")):u}var e,i,j=a[0],o=[],k;if(!c.support.checkClone&&arguments.length===3&&typeof j==="string"&&ua.test(j))return this.each(function(){c(this).domManip(a,b,d,true)});if(c.isFunction(j))return this.each(function(u){var z=c(this);a[0]=j.call(this,u,b?z.html():w);z.domManip(a,b,d)});if(this[0]){e=j&&j.parentNode;e=c.support.parentNode&&e&&e.nodeType===11&&e.childNodes.length===this.length?{fragment:e}:sa(a,this,o);k=e.fragment;if(i=k.childNodes.length===
1?(k=k.firstChild):k.firstChild){b=b&&c.nodeName(i,"tr");for(var n=0,r=this.length;n<r;n++)d.call(b?f(this[n],i):this[n],n>0||e.cacheable||this.length>1?k.cloneNode(true):k)}o.length&&c.each(o,Qa)}return this}});c.fragments={};c.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){c.fn[a]=function(d){var f=[];d=c(d);var e=this.length===1&&this[0].parentNode;if(e&&e.nodeType===11&&e.childNodes.length===1&&d.length===1){d[b](this[0]);
return this}else{e=0;for(var i=d.length;e<i;e++){var j=(e>0?this.clone(true):this).get();c.fn[b].apply(c(d[e]),j);f=f.concat(j)}return this.pushStack(f,a,d.selector)}}});c.extend({clean:function(a,b,d,f){b=b||s;if(typeof b.createElement==="undefined")b=b.ownerDocument||b[0]&&b[0].ownerDocument||s;for(var e=[],i=0,j;(j=a[i])!=null;i++){if(typeof j==="number")j+="";if(j){if(typeof j==="string"&&!jb.test(j))j=b.createTextNode(j);else if(typeof j==="string"){j=j.replace(Ka,Ma);var o=(La.exec(j)||["",
""])[1].toLowerCase(),k=F[o]||F._default,n=k[0],r=b.createElement("div");for(r.innerHTML=k[1]+j+k[2];n--;)r=r.lastChild;if(!c.support.tbody){n=ib.test(j);o=o==="table"&&!n?r.firstChild&&r.firstChild.childNodes:k[1]==="<table>"&&!n?r.childNodes:[];for(k=o.length-1;k>=0;--k)c.nodeName(o[k],"tbody")&&!o[k].childNodes.length&&o[k].parentNode.removeChild(o[k])}!c.support.leadingWhitespace&&V.test(j)&&r.insertBefore(b.createTextNode(V.exec(j)[0]),r.firstChild);j=r.childNodes}if(j.nodeType)e.push(j);else e=
c.merge(e,j)}}if(d)for(i=0;e[i];i++)if(f&&c.nodeName(e[i],"script")&&(!e[i].type||e[i].type.toLowerCase()==="text/javascript"))f.push(e[i].parentNode?e[i].parentNode.removeChild(e[i]):e[i]);else{e[i].nodeType===1&&e.splice.apply(e,[i+1,0].concat(c.makeArray(e[i].getElementsByTagName("script"))));d.appendChild(e[i])}return e},cleanData:function(a){for(var b,d,f=c.cache,e=c.event.special,i=c.support.deleteExpando,j=0,o;(o=a[j])!=null;j++)if(d=o[c.expando]){b=f[d];if(b.events)for(var k in b.events)e[k]?
c.event.remove(o,k):Ca(o,k,b.handle);if(i)delete o[c.expando];else o.removeAttribute&&o.removeAttribute(c.expando);delete f[d]}}});var kb=/z-?index|font-?weight|opacity|zoom|line-?height/i,Na=/alpha\([^)]*\)/,Oa=/opacity=([^)]*)/,ha=/float/i,ia=/-([a-z])/ig,lb=/([A-Z])/g,mb=/^-?\d+(?:px)?$/i,nb=/^-?\d/,ob={position:"absolute",visibility:"hidden",display:"block"},pb=["Left","Right"],qb=["Top","Bottom"],rb=s.defaultView&&s.defaultView.getComputedStyle,Pa=c.support.cssFloat?"cssFloat":"styleFloat",ja=
function(a,b){return b.toUpperCase()};c.fn.css=function(a,b){return X(this,a,b,true,function(d,f,e){if(e===w)return c.curCSS(d,f);if(typeof e==="number"&&!kb.test(f))e+="px";c.style(d,f,e)})};c.extend({style:function(a,b,d){if(!a||a.nodeType===3||a.nodeType===8)return w;if((b==="width"||b==="height")&&parseFloat(d)<0)d=w;var f=a.style||a,e=d!==w;if(!c.support.opacity&&b==="opacity"){if(e){f.zoom=1;b=parseInt(d,10)+""==="NaN"?"":"alpha(opacity="+d*100+")";a=f.filter||c.curCSS(a,"filter")||"";f.filter=
Na.test(a)?a.replace(Na,b):b}return f.filter&&f.filter.indexOf("opacity=")>=0?parseFloat(Oa.exec(f.filter)[1])/100+"":""}if(ha.test(b))b=Pa;b=b.replace(ia,ja);if(e)f[b]=d;return f[b]},css:function(a,b,d,f){if(b==="width"||b==="height"){var e,i=b==="width"?pb:qb;d=function(){e=b==="width"?a.offsetWidth:a.offsetHeight;f!=="border"&&c.each(i,function(){f||(e-=parseFloat(c.curCSS(a,"padding"+this,true))||0);if(f==="margin")e+=parseFloat(c.curCSS(a,"margin"+this,true))||0;else e-=parseFloat(c.curCSS(a,
"border"+this+"Width",true))||0})};a.offsetWidth!==0?d():c.swap(a,ob,d);return Math.max(0,Math.round(e))}return c.curCSS(a,b,d)},curCSS:function(a,b,d){var f,e=a.style;if(!c.support.opacity&&b==="opacity"&&a.currentStyle){f=Oa.test(a.currentStyle.filter||"")?parseFloat(RegExp.$1)/100+"":"";return f===""?"1":f}if(ha.test(b))b=Pa;if(!d&&e&&e[b])f=e[b];else if(rb){if(ha.test(b))b="float";b=b.replace(lb,"-$1").toLowerCase();e=a.ownerDocument.defaultView;if(!e)return null;if(a=e.getComputedStyle(a,null))f=
a.getPropertyValue(b);if(b==="opacity"&&f==="")f="1"}else if(a.currentStyle){d=b.replace(ia,ja);f=a.currentStyle[b]||a.currentStyle[d];if(!mb.test(f)&&nb.test(f)){b=e.left;var i=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;e.left=d==="fontSize"?"1em":f||0;f=e.pixelLeft+"px";e.left=b;a.runtimeStyle.left=i}}return f},swap:function(a,b,d){var f={};for(var e in b){f[e]=a.style[e];a.style[e]=b[e]}d.call(a);for(e in b)a.style[e]=f[e]}});if(c.expr&&c.expr.filters){c.expr.filters.hidden=function(a){var b=
a.offsetWidth,d=a.offsetHeight,f=a.nodeName.toLowerCase()==="tr";return b===0&&d===0&&!f?true:b>0&&d>0&&!f?false:c.curCSS(a,"display")==="none"};c.expr.filters.visible=function(a){return!c.expr.filters.hidden(a)}}var sb=J(),tb=/<script(.|\s)*?\/script>/gi,ub=/select|textarea/i,vb=/color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week/i,N=/=\?(&|$)/,ka=/\?/,wb=/(\?|&)_=.*?(&|$)/,xb=/^(\w+:)?\/\/([^\/?#]+)/,yb=/%20/g,zb=c.fn.load;c.fn.extend({load:function(a,b,d){if(typeof a!==
"string")return zb.call(this,a);else if(!this.length)return this;var f=a.indexOf(" ");if(f>=0){var e=a.slice(f,a.length);a=a.slice(0,f)}f="GET";if(b)if(c.isFunction(b)){d=b;b=null}else if(typeof b==="object"){b=c.param(b,c.ajaxSettings.traditional);f="POST"}var i=this;c.ajax({url:a,type:f,dataType:"html",data:b,complete:function(j,o){if(o==="success"||o==="notmodified")i.html(e?c("<div />").append(j.responseText.replace(tb,"")).find(e):j.responseText);d&&i.each(d,[j.responseText,o,j])}});return this},
serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?c.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||ub.test(this.nodeName)||vb.test(this.type))}).map(function(a,b){a=c(this).val();return a==null?null:c.isArray(a)?c.map(a,function(d){return{name:b.name,value:d}}):{name:b.name,value:a}}).get()}});c.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(a,b){c.fn[b]=function(d){return this.bind(b,d)}});c.extend({get:function(a,b,d,f){if(c.isFunction(b)){f=f||d;d=b;b=null}return c.ajax({type:"GET",url:a,data:b,success:d,dataType:f})},getScript:function(a,b){return c.get(a,null,b,"script")},getJSON:function(a,b,d){return c.get(a,b,d,"json")},post:function(a,b,d,f){if(c.isFunction(b)){f=f||d;d=b;b={}}return c.ajax({type:"POST",url:a,data:b,success:d,dataType:f})},ajaxSetup:function(a){c.extend(c.ajaxSettings,a)},ajaxSettings:{url:location.href,
global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:A.XMLHttpRequest&&(A.location.protocol!=="file:"||!A.ActiveXObject)?function(){return new A.XMLHttpRequest}:function(){try{return new A.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},etag:{},ajax:function(a){function b(){e.success&&
e.success.call(k,o,j,x);e.global&&f("ajaxSuccess",[x,e])}function d(){e.complete&&e.complete.call(k,x,j);e.global&&f("ajaxComplete",[x,e]);e.global&&!--c.active&&c.event.trigger("ajaxStop")}function f(q,p){(e.context?c(e.context):c.event).trigger(q,p)}var e=c.extend(true,{},c.ajaxSettings,a),i,j,o,k=a&&a.context||e,n=e.type.toUpperCase();if(e.data&&e.processData&&typeof e.data!=="string")e.data=c.param(e.data,e.traditional);if(e.dataType==="jsonp"){if(n==="GET")N.test(e.url)||(e.url+=(ka.test(e.url)?
"&":"?")+(e.jsonp||"callback")+"=?");else if(!e.data||!N.test(e.data))e.data=(e.data?e.data+"&":"")+(e.jsonp||"callback")+"=?";e.dataType="json"}if(e.dataType==="json"&&(e.data&&N.test(e.data)||N.test(e.url))){i=e.jsonpCallback||"jsonp"+sb++;if(e.data)e.data=(e.data+"").replace(N,"="+i+"$1");e.url=e.url.replace(N,"="+i+"$1");e.dataType="script";A[i]=A[i]||function(q){o=q;b();d();A[i]=w;try{delete A[i]}catch(p){}z&&z.removeChild(C)}}if(e.dataType==="script"&&e.cache===null)e.cache=false;if(e.cache===
false&&n==="GET"){var r=J(),u=e.url.replace(wb,"$1_="+r+"$2");e.url=u+(u===e.url?(ka.test(e.url)?"&":"?")+"_="+r:"")}if(e.data&&n==="GET")e.url+=(ka.test(e.url)?"&":"?")+e.data;e.global&&!c.active++&&c.event.trigger("ajaxStart");r=(r=xb.exec(e.url))&&(r[1]&&r[1]!==location.protocol||r[2]!==location.host);if(e.dataType==="script"&&n==="GET"&&r){var z=s.getElementsByTagName("head")[0]||s.documentElement,C=s.createElement("script");C.src=e.url;if(e.scriptCharset)C.charset=e.scriptCharset;if(!i){var B=
false;C.onload=C.onreadystatechange=function(){if(!B&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){B=true;b();d();C.onload=C.onreadystatechange=null;z&&C.parentNode&&z.removeChild(C)}}}z.insertBefore(C,z.firstChild);return w}var E=false,x=e.xhr();if(x){e.username?x.open(n,e.url,e.async,e.username,e.password):x.open(n,e.url,e.async);try{if(e.data||a&&a.contentType)x.setRequestHeader("Content-Type",e.contentType);if(e.ifModified){c.lastModified[e.url]&&x.setRequestHeader("If-Modified-Since",
c.lastModified[e.url]);c.etag[e.url]&&x.setRequestHeader("If-None-Match",c.etag[e.url])}r||x.setRequestHeader("X-Requested-With","XMLHttpRequest");x.setRequestHeader("Accept",e.dataType&&e.accepts[e.dataType]?e.accepts[e.dataType]+", */*":e.accepts._default)}catch(ga){}if(e.beforeSend&&e.beforeSend.call(k,x,e)===false){e.global&&!--c.active&&c.event.trigger("ajaxStop");x.abort();return false}e.global&&f("ajaxSend",[x,e]);var g=x.onreadystatechange=function(q){if(!x||x.readyState===0||q==="abort"){E||
d();E=true;if(x)x.onreadystatechange=c.noop}else if(!E&&x&&(x.readyState===4||q==="timeout")){E=true;x.onreadystatechange=c.noop;j=q==="timeout"?"timeout":!c.httpSuccess(x)?"error":e.ifModified&&c.httpNotModified(x,e.url)?"notmodified":"success";var p;if(j==="success")try{o=c.httpData(x,e.dataType,e)}catch(v){j="parsererror";p=v}if(j==="success"||j==="notmodified")i||b();else c.handleError(e,x,j,p);d();q==="timeout"&&x.abort();if(e.async)x=null}};try{var h=x.abort;x.abort=function(){x&&h.call(x);
g("abort")}}catch(l){}e.async&&e.timeout>0&&setTimeout(function(){x&&!E&&g("timeout")},e.timeout);try{x.send(n==="POST"||n==="PUT"||n==="DELETE"?e.data:null)}catch(m){c.handleError(e,x,null,m);d()}e.async||g();return x}},handleError:function(a,b,d,f){if(a.error)a.error.call(a.context||a,b,d,f);if(a.global)(a.context?c(a.context):c.event).trigger("ajaxError",[b,a,f])},active:0,httpSuccess:function(a){try{return!a.status&&location.protocol==="file:"||a.status>=200&&a.status<300||a.status===304||a.status===
1223||a.status===0}catch(b){}return false},httpNotModified:function(a,b){var d=a.getResponseHeader("Last-Modified"),f=a.getResponseHeader("Etag");if(d)c.lastModified[b]=d;if(f)c.etag[b]=f;return a.status===304||a.status===0},httpData:function(a,b,d){var f=a.getResponseHeader("content-type")||"",e=b==="xml"||!b&&f.indexOf("xml")>=0;a=e?a.responseXML:a.responseText;e&&a.documentElement.nodeName==="parsererror"&&c.error("parsererror");if(d&&d.dataFilter)a=d.dataFilter(a,b);if(typeof a==="string")if(b===
"json"||!b&&f.indexOf("json")>=0)a=c.parseJSON(a);else if(b==="script"||!b&&f.indexOf("javascript")>=0)c.globalEval(a);return a},param:function(a,b){function d(j,o){if(c.isArray(o))c.each(o,function(k,n){b||/\[\]$/.test(j)?f(j,n):d(j+"["+(typeof n==="object"||c.isArray(n)?k:"")+"]",n)});else!b&&o!=null&&typeof o==="object"?c.each(o,function(k,n){d(j+"["+k+"]",n)}):f(j,o)}function f(j,o){o=c.isFunction(o)?o():o;e[e.length]=encodeURIComponent(j)+"="+encodeURIComponent(o)}var e=[];if(b===w)b=c.ajaxSettings.traditional;
if(c.isArray(a)||a.jquery)c.each(a,function(){f(this.name,this.value)});else for(var i in a)d(i,a[i]);return e.join("&").replace(yb,"+")}});var la={},Ab=/toggle|show|hide/,Bb=/^([+-]=)?([\d+-.]+)(.*)$/,W,va=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];c.fn.extend({show:function(a,b){if(a||a===0)return this.animate(K("show",3),a,b);else{a=0;for(b=this.length;a<b;a++){var d=c.data(this[a],"olddisplay");
this[a].style.display=d||"";if(c.css(this[a],"display")==="none"){d=this[a].nodeName;var f;if(la[d])f=la[d];else{var e=c("<"+d+" />").appendTo("body");f=e.css("display");if(f==="none")f="block";e.remove();la[d]=f}c.data(this[a],"olddisplay",f)}}a=0;for(b=this.length;a<b;a++)this[a].style.display=c.data(this[a],"olddisplay")||"";return this}},hide:function(a,b){if(a||a===0)return this.animate(K("hide",3),a,b);else{a=0;for(b=this.length;a<b;a++){var d=c.data(this[a],"olddisplay");!d&&d!=="none"&&c.data(this[a],
"olddisplay",c.css(this[a],"display"))}a=0;for(b=this.length;a<b;a++)this[a].style.display="none";return this}},_toggle:c.fn.toggle,toggle:function(a,b){var d=typeof a==="boolean";if(c.isFunction(a)&&c.isFunction(b))this._toggle.apply(this,arguments);else a==null||d?this.each(function(){var f=d?a:c(this).is(":hidden");c(this)[f?"show":"hide"]()}):this.animate(K("toggle",3),a,b);return this},fadeTo:function(a,b,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,d)},
animate:function(a,b,d,f){var e=c.speed(b,d,f);if(c.isEmptyObject(a))return this.each(e.complete);return this[e.queue===false?"each":"queue"](function(){var i=c.extend({},e),j,o=this.nodeType===1&&c(this).is(":hidden"),k=this;for(j in a){var n=j.replace(ia,ja);if(j!==n){a[n]=a[j];delete a[j];j=n}if(a[j]==="hide"&&o||a[j]==="show"&&!o)return i.complete.call(this);if((j==="height"||j==="width")&&this.style){i.display=c.css(this,"display");i.overflow=this.style.overflow}if(c.isArray(a[j])){(i.specialEasing=
i.specialEasing||{})[j]=a[j][1];a[j]=a[j][0]}}if(i.overflow!=null)this.style.overflow="hidden";i.curAnim=c.extend({},a);c.each(a,function(r,u){var z=new c.fx(k,i,r);if(Ab.test(u))z[u==="toggle"?o?"show":"hide":u](a);else{var C=Bb.exec(u),B=z.cur(true)||0;if(C){u=parseFloat(C[2]);var E=C[3]||"px";if(E!=="px"){k.style[r]=(u||1)+E;B=(u||1)/z.cur(true)*B;k.style[r]=B+E}if(C[1])u=(C[1]==="-="?-1:1)*u+B;z.custom(B,u,E)}else z.custom(B,u,"")}});return true})},stop:function(a,b){var d=c.timers;a&&this.queue([]);
this.each(function(){for(var f=d.length-1;f>=0;f--)if(d[f].elem===this){b&&d[f](true);d.splice(f,1)}});b||this.dequeue();return this}});c.each({slideDown:K("show",1),slideUp:K("hide",1),slideToggle:K("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(a,b){c.fn[a]=function(d,f){return this.animate(b,d,f)}});c.extend({speed:function(a,b,d){var f=a&&typeof a==="object"?a:{complete:d||!d&&b||c.isFunction(a)&&a,duration:a,easing:d&&b||b&&!c.isFunction(b)&&b};f.duration=c.fx.off?0:typeof f.duration===
"number"?f.duration:c.fx.speeds[f.duration]||c.fx.speeds._default;f.old=f.complete;f.complete=function(){f.queue!==false&&c(this).dequeue();c.isFunction(f.old)&&f.old.call(this)};return f},easing:{linear:function(a,b,d,f){return d+f*a},swing:function(a,b,d,f){return(-Math.cos(a*Math.PI)/2+0.5)*f+d}},timers:[],fx:function(a,b,d){this.options=b;this.elem=a;this.prop=d;if(!b.orig)b.orig={}}});c.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(c.fx.step[this.prop]||
c.fx.step._default)(this);if((this.prop==="height"||this.prop==="width")&&this.elem.style)this.elem.style.display="block"},cur:function(a){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];return(a=parseFloat(c.css(this.elem,this.prop,a)))&&a>-10000?a:parseFloat(c.curCSS(this.elem,this.prop))||0},custom:function(a,b,d){function f(i){return e.step(i)}this.startTime=J();this.start=a;this.end=b;this.unit=d||this.unit||"px";this.now=this.start;
this.pos=this.state=0;var e=this;f.elem=this.elem;if(f()&&c.timers.push(f)&&!W)W=setInterval(c.fx.tick,13)},show:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());c(this.elem).show()},hide:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(a){var b=J(),d=true;if(a||b>=this.options.duration+this.startTime){this.now=
this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var f in this.options.curAnim)if(this.options.curAnim[f]!==true)d=false;if(d){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;a=c.data(this.elem,"olddisplay");this.elem.style.display=a?a:this.options.display;if(c.css(this.elem,"display")==="none")this.elem.style.display="block"}this.options.hide&&c(this.elem).hide();if(this.options.hide||this.options.show)for(var e in this.options.curAnim)c.style(this.elem,
e,this.options.orig[e]);this.options.complete.call(this.elem)}return false}else{e=b-this.startTime;this.state=e/this.options.duration;a=this.options.easing||(c.easing.swing?"swing":"linear");this.pos=c.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||a](this.state,e,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update()}return true}};c.extend(c.fx,{tick:function(){for(var a=c.timers,b=0;b<a.length;b++)a[b]()||a.splice(b--,1);a.length||
c.fx.stop()},stop:function(){clearInterval(W);W=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){c.style(a.elem,"opacity",a.now)},_default:function(a){if(a.elem.style&&a.elem.style[a.prop]!=null)a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit;else a.elem[a.prop]=a.now}}});if(c.expr&&c.expr.filters)c.expr.filters.animated=function(a){return c.grep(c.timers,function(b){return a===b.elem}).length};c.fn.offset="getBoundingClientRect"in s.documentElement?
function(a){var b=this[0];if(a)return this.each(function(e){c.offset.setOffset(this,a,e)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return c.offset.bodyOffset(b);var d=b.getBoundingClientRect(),f=b.ownerDocument;b=f.body;f=f.documentElement;return{top:d.top+(self.pageYOffset||c.support.boxModel&&f.scrollTop||b.scrollTop)-(f.clientTop||b.clientTop||0),left:d.left+(self.pageXOffset||c.support.boxModel&&f.scrollLeft||b.scrollLeft)-(f.clientLeft||b.clientLeft||0)}}:function(a){var b=
this[0];if(a)return this.each(function(r){c.offset.setOffset(this,a,r)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return c.offset.bodyOffset(b);c.offset.initialize();var d=b.offsetParent,f=b,e=b.ownerDocument,i,j=e.documentElement,o=e.body;f=(e=e.defaultView)?e.getComputedStyle(b,null):b.currentStyle;for(var k=b.offsetTop,n=b.offsetLeft;(b=b.parentNode)&&b!==o&&b!==j;){if(c.offset.supportsFixedPosition&&f.position==="fixed")break;i=e?e.getComputedStyle(b,null):b.currentStyle;
k-=b.scrollTop;n-=b.scrollLeft;if(b===d){k+=b.offsetTop;n+=b.offsetLeft;if(c.offset.doesNotAddBorder&&!(c.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(b.nodeName))){k+=parseFloat(i.borderTopWidth)||0;n+=parseFloat(i.borderLeftWidth)||0}f=d;d=b.offsetParent}if(c.offset.subtractsBorderForOverflowNotVisible&&i.overflow!=="visible"){k+=parseFloat(i.borderTopWidth)||0;n+=parseFloat(i.borderLeftWidth)||0}f=i}if(f.position==="relative"||f.position==="static"){k+=o.offsetTop;n+=o.offsetLeft}if(c.offset.supportsFixedPosition&&
f.position==="fixed"){k+=Math.max(j.scrollTop,o.scrollTop);n+=Math.max(j.scrollLeft,o.scrollLeft)}return{top:k,left:n}};c.offset={initialize:function(){var a=s.body,b=s.createElement("div"),d,f,e,i=parseFloat(c.curCSS(a,"marginTop",true))||0;c.extend(b.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});b.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
a.insertBefore(b,a.firstChild);d=b.firstChild;f=d.firstChild;e=d.nextSibling.firstChild.firstChild;this.doesNotAddBorder=f.offsetTop!==5;this.doesAddBorderForTableAndCells=e.offsetTop===5;f.style.position="fixed";f.style.top="20px";this.supportsFixedPosition=f.offsetTop===20||f.offsetTop===15;f.style.position=f.style.top="";d.style.overflow="hidden";d.style.position="relative";this.subtractsBorderForOverflowNotVisible=f.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==i;a.removeChild(b);
c.offset.initialize=c.noop},bodyOffset:function(a){var b=a.offsetTop,d=a.offsetLeft;c.offset.initialize();if(c.offset.doesNotIncludeMarginInBodyOffset){b+=parseFloat(c.curCSS(a,"marginTop",true))||0;d+=parseFloat(c.curCSS(a,"marginLeft",true))||0}return{top:b,left:d}},setOffset:function(a,b,d){if(/static/.test(c.curCSS(a,"position")))a.style.position="relative";var f=c(a),e=f.offset(),i=parseInt(c.curCSS(a,"top",true),10)||0,j=parseInt(c.curCSS(a,"left",true),10)||0;if(c.isFunction(b))b=b.call(a,
d,e);d={top:b.top-e.top+i,left:b.left-e.left+j};"using"in b?b.using.call(a,d):f.css(d)}};c.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),d=this.offset(),f=/^body|html$/i.test(b[0].nodeName)?{top:0,left:0}:b.offset();d.top-=parseFloat(c.curCSS(a,"marginTop",true))||0;d.left-=parseFloat(c.curCSS(a,"marginLeft",true))||0;f.top+=parseFloat(c.curCSS(b[0],"borderTopWidth",true))||0;f.left+=parseFloat(c.curCSS(b[0],"borderLeftWidth",true))||0;return{top:d.top-
f.top,left:d.left-f.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||s.body;a&&!/^body|html$/i.test(a.nodeName)&&c.css(a,"position")==="static";)a=a.offsetParent;return a})}});c.each(["Left","Top"],function(a,b){var d="scroll"+b;c.fn[d]=function(f){var e=this[0],i;if(!e)return null;if(f!==w)return this.each(function(){if(i=wa(this))i.scrollTo(!a?f:c(i).scrollLeft(),a?f:c(i).scrollTop());else this[d]=f});else return(i=wa(e))?"pageXOffset"in i?i[a?"pageYOffset":
"pageXOffset"]:c.support.boxModel&&i.document.documentElement[d]||i.document.body[d]:e[d]}});c.each(["Height","Width"],function(a,b){var d=b.toLowerCase();c.fn["inner"+b]=function(){return this[0]?c.css(this[0],d,false,"padding"):null};c.fn["outer"+b]=function(f){return this[0]?c.css(this[0],d,false,f?"margin":"border"):null};c.fn[d]=function(f){var e=this[0];if(!e)return f==null?null:this;if(c.isFunction(f))return this.each(function(i){var j=c(this);j[d](f.call(this,i,j[d]()))});return"scrollTo"in
e&&e.document?e.document.compatMode==="CSS1Compat"&&e.document.documentElement["client"+b]||e.document.body["client"+b]:e.nodeType===9?Math.max(e.documentElement["client"+b],e.body["scroll"+b],e.documentElement["scroll"+b],e.body["offset"+b],e.documentElement["offset"+b]):f===w?c.css(e,d):this.css(d,typeof f==="string"?f:f+"px")}});A.jQuery=A.$=c})(window);
(function(){function l(){if(l.is(arguments[0],T)){for(var a=arguments[0],b=za[K](l,a.splice(0,3+l.is(a[0],N))),c=b.set(),e=0,f=a[q];e<f;e++){var d=a[e]||{};mb[u](d.type)&&c[D](b[d.type]().attr(d))}return c}return za[K](l,arguments)}function ma(){for(var a=[],b=0;b<32;b++)a[b]=(~~(y.random()*16))[$](16);a[12]=4;a[16]=(a[16]&3|8)[$](16);return"r-"+a[O]("")}function aa(a,b,c){function e(){var f=Array[B].slice.call(arguments,0),d=f[O]("\u25ba"),g=e.cache=e.cache||{},h=e.count=e.count||[];if(g[u](d))return c?
c(g[d]):g[d];h[q]>=1E3&&delete g[h.shift()];h[D](d);g[d]=a[K](b,f);return c?c(g[d]):g[d]}return e}function Oa(){return this.x+L+this.y}function Pa(a){return function(b,c,e,f){var d={back:a};l.is(e,"function")?(f=e):(d.rot=e);b&&b.constructor==C&&(b=b.attrs.path);b&&(d.along=b);return this.animate(d,c,f)}}function nb(a,b,c,e,f,d){function g(r){return((m*r+k)*r+i)*r}function h(r,w){r=j(r,w);return((p*r+o)*r+n)*r}function j(r,w){var s,F,H,G;H=r;for(F=0;F<8;F++){G=g(H)-r;if(M(G)<w)return H;s=(3*m*H+2*
k)*H+i;if(M(s)<1.0E-6)break;H-=G/s}s=0;F=1;H=r;if(H<s)return s;if(H>F)return F;for(;s<F;){G=g(H);if(M(G-r)<w)return H;if(r>G)s=H;else F=H;H=(F-s)/2+s}return H}var i=3*b,k=3*(e-b)-i,m=1-i-k,n=3*c,o=3*(f-c)-n,p=1-n-o;return h(a,1/(200*d))}l.version="1.5.2";var V=/[, ]+/,mb={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},ob=/\{(\d+)\}/g,B="prototype",u="hasOwnProperty",v=document,ca=window,Aa={was:Object[B][u].call(ca,"Raphael"),is:ca.Raphael},na=function(){this.customAttributes={}},I,K="apply",Ba=
"createTouch"in v,L=" ",z=String,ga="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend".split(L),Ca={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},O="join",q="length",ea=z[B].toLowerCase,y=Math,S=y.max,Z=y.min,M=y.abs,E=y.pow,Q=y.PI,N="number",T="array",$="toString",pb=Object[B][$],D="push",Qa=/^url\(['"]?([^\)]+?)['"]?\)$/i,qb=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,
rb={NaN:1,Infinity:1,"-Infinity":1},sb=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,P=y.round,x=parseFloat,ba=parseInt,oa=z[B].toUpperCase,pa={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt",
"stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},Da={along:"along",blur:N,"clip-rect":"csv",cx:N,cy:N,fill:"colour","fill-opacity":N,"font-size":N,height:N,opacity:N,path:"path",r:N,rotation:"csv",rx:N,ry:N,scale:"csv",stroke:"colour","stroke-opacity":N,"stroke-width":N,translation:"csv",width:N,x:N,y:N},tb=/^(from|to|\d+%?)$/,Ea=/\s*,\s*/,ub={hs:1,rg:1},vb=/,?([achlmqrstvxz]),?/gi,
wb=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,xb=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,Ra=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,yb=function(a,b){return a.key-b.key};l.type=ca.SVGAngle||v.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(l.type=="VML"){var W=v.createElement("div");W.innerHTML='<v:shape adj="1"/>';W=W.firstChild;W.style.behavior="url(#default#VML)";if(!(W&&typeof W.adj=="object"))return l.type=null;W=null}l.svg=
!(l.vml=l.type=="VML");na[B]=l[B];I=na[B];l._id=0;l._oid=0;l.fn={};l.is=function(a,b){b=ea.call(b);if(b=="finite")return!rb[u](+a);return b=="null"&&a===null||b==typeof a||b=="object"&&a===Object(a)||b=="array"&&Array.isArray&&Array.isArray(a)||pb.call(a).slice(8,-1).toLowerCase()==b};l.angle=function(a,b,c,e,f,d){if(f==null){a=a-c;b=b-e;if(!a&&!b)return 0;return((a<0)*180+y.atan(-b/-a)*180/Q+360)%360}else return l.angle(a,b,f,d)-l.angle(c,e,f,d)};l.rad=function(a){return a%360*Q/180};l.deg=function(a){return a*
180/Q%360};l.snapTo=function(a,b,c){c=l.is(c,"finite")?c:10;if(l.is(a,T))for(var e=a.length;e--;){if(M(a[e]-b)<=c)return a[e]}else{a=+a;e=b%a;if(e<c)return b-e;if(e>a-c)return b-e+a}return b};l.setWindow=function(a){ca=a;v=ca.document};var qa=function(a){if(l.vml){var b=/^\s+|\s+$/g,c;try{var e=new ActiveXObject("htmlfile");e.write("<body>");e.close();c=e.body}catch(f){c=createPopup().document.body}var d=c.createTextRange();qa=aa(function(h){try{c.style.color=z(h).replace(b,"");var j=d.queryCommandValue("ForeColor");
j=(j&255)<<16|j&65280|(j&16711680)>>>16;return"#"+("000000"+j[$](16)).slice(-6)}catch(i){return"none"}})}else{var g=v.createElement("i");g.title="Rapha\u00ebl Colour Picker";g.style.display="none";v.body.appendChild(g);qa=aa(function(h){g.style.color=h;return v.defaultView.getComputedStyle(g,"").getPropertyValue("color")})}return qa(a)},Sa=function(){return"hsb("+[this.h,this.s,this.b]+")"},zb=function(){return"hsl("+[this.h,this.s,this.l]+")"},Ab=function(){return this.hex};l.hsb2rgb=function(a,
b,c,e){if(l.is(a,"object")&&"h"in a&&"s"in a&&"b"in a){c=a.b;b=a.s;a=a.h;e=a.o}return l.hsl2rgb(a,b,c/2,e)};l.hsl2rgb=function(a,b,c,e){if(l.is(a,"object")&&"h"in a&&"s"in a&&"l"in a){c=a.l;b=a.s;a=a.h}if(a>1||b>1||c>1){a/=360;b/=100;c/=100}var f={},d=["r","g","b"],g;if(b){b=c<0.5?c*(1+b):c+b-c*b;c=2*c-b;for(var h=0;h<3;h++){g=a+1/3*-(h-1);g<0&&g++;g>1&&g--;f[d[h]]=g*6<1?c+(b-c)*6*g:g*2<1?b:g*3<2?c+(b-c)*(2/3-g)*6:c}}else f={r:c,g:c,b:c};f.r*=255;f.g*=255;f.b*=255;f.hex="#"+(16777216|f.b|f.g<<8|f.r<<
16).toString(16).slice(1);l.is(e,"finite")&&(f.opacity=e);f.toString=Ab;return f};l.rgb2hsb=function(a,b,c){if(b==null&&l.is(a,"object")&&"r"in a&&"g"in a&&"b"in a){c=a.b;b=a.g;a=a.r}if(b==null&&l.is(a,"string")){var e=l.getRGB(a);a=e.r;b=e.g;c=e.b}if(a>1||b>1||c>1){a/=255;b/=255;c/=255}e=S(a,b,c);var f=Z(a,b,c);if(f==e)return{h:0,s:0,b:e,toString:Sa};else{var d=e-f;f=d/e;a=a==e?(b-c)/d:b==e?2+(c-a)/d:4+(a-b)/d;a/=6;a<0&&a++;a>1&&a--}return{h:a,s:f,b:e,toString:Sa}};l.rgb2hsl=function(a,b,c){if(b==
null&&l.is(a,"object")&&"r"in a&&"g"in a&&"b"in a){c=a.b;b=a.g;a=a.r}if(b==null&&l.is(a,"string")){var e=l.getRGB(a);a=e.r;b=e.g;c=e.b}if(a>1||b>1||c>1){a/=255;b/=255;c/=255}var f=S(a,b,c),d=Z(a,b,c);e=(f+d)/2;if(d==f)a={h:0,s:0,l:e};else{var g=f-d;d=e<0.5?g/(f+d):g/(2-f-d);a=a==f?(b-c)/g:b==f?2+(c-a)/g:4+(a-b)/g;a/=6;a<0&&a++;a>1&&a--;a={h:a,s:d,l:e}}a.toString=zb;return a};l._path2string=function(){return this.join(",").replace(vb,"$1")};l.getRGB=aa(function(a){if(!a||(a=z(a)).indexOf("-")+1)return{r:-1,
g:-1,b:-1,hex:"none",error:1};if(a=="none")return{r:-1,g:-1,b:-1,hex:"none"};!(ub[u](a.toLowerCase().substring(0,2))||a.charAt()=="#")&&(a=qa(a));var b,c,e,f,d;if(a=a.match(qb)){if(a[2]){e=ba(a[2].substring(5),16);c=ba(a[2].substring(3,5),16);b=ba(a[2].substring(1,3),16)}if(a[3]){e=ba((d=a[3].charAt(3))+d,16);c=ba((d=a[3].charAt(2))+d,16);b=ba((d=a[3].charAt(1))+d,16)}if(a[4]){d=a[4].split(Ea);b=x(d[0]);d[0].slice(-1)=="%"&&(b*=2.55);c=x(d[1]);d[1].slice(-1)=="%"&&(c*=2.55);e=x(d[2]);d[2].slice(-1)==
"%"&&(e*=2.55);a[1].toLowerCase().slice(0,4)=="rgba"&&(f=x(d[3]));d[3]&&d[3].slice(-1)=="%"&&(f/=100)}if(a[5]){d=a[5].split(Ea);b=x(d[0]);d[0].slice(-1)=="%"&&(b*=2.55);c=x(d[1]);d[1].slice(-1)=="%"&&(c*=2.55);e=x(d[2]);d[2].slice(-1)=="%"&&(e*=2.55);(d[0].slice(-3)=="deg"||d[0].slice(-1)=="\u00b0")&&(b/=360);a[1].toLowerCase().slice(0,4)=="hsba"&&(f=x(d[3]));d[3]&&d[3].slice(-1)=="%"&&(f/=100);return l.hsb2rgb(b,c,e,f)}if(a[6]){d=a[6].split(Ea);b=x(d[0]);d[0].slice(-1)=="%"&&(b*=2.55);c=x(d[1]);
d[1].slice(-1)=="%"&&(c*=2.55);e=x(d[2]);d[2].slice(-1)=="%"&&(e*=2.55);(d[0].slice(-3)=="deg"||d[0].slice(-1)=="\u00b0")&&(b/=360);a[1].toLowerCase().slice(0,4)=="hsla"&&(f=x(d[3]));d[3]&&d[3].slice(-1)=="%"&&(f/=100);return l.hsl2rgb(b,c,e,f)}a={r:b,g:c,b:e};a.hex="#"+(16777216|e|c<<8|b<<16).toString(16).slice(1);l.is(f,"finite")&&(a.opacity=f);return a}return{r:-1,g:-1,b:-1,hex:"none",error:1}},l);l.getColor=function(a){a=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||0.75};var b=this.hsb2rgb(a.h,
a.s,a.b);a.h+=0.075;if(a.h>1){a.h=0;a.s-=0.2;a.s<=0&&(this.getColor.start={h:0,s:1,b:a.b})}return b.hex};l.getColor.reset=function(){delete this.start};l.parsePathString=aa(function(a){if(!a)return null;var b={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},c=[];if(l.is(a,T)&&l.is(a[0],T))c=ra(a);c[q]||z(a).replace(wb,function(e,f,d){var g=[];e=ea.call(f);d.replace(xb,function(h,j){j&&g[D](+j)});if(e=="m"&&g[q]>2){c[D]([f].concat(g.splice(0,2)));e="l";f=f=="m"?"l":"L"}for(;g[q]>=b[e];){c[D]([f].concat(g.splice(0,
b[e])));if(!b[e])break}});c[$]=l._path2string;return c});l.findDotsAtSegment=function(a,b,c,e,f,d,g,h,j){var i=1-j,k=E(i,3)*a+E(i,2)*3*j*c+i*3*j*j*f+E(j,3)*g;i=E(i,3)*b+E(i,2)*3*j*e+i*3*j*j*d+E(j,3)*h;var m=a+2*j*(c-a)+j*j*(f-2*c+a),n=b+2*j*(e-b)+j*j*(d-2*e+b),o=c+2*j*(f-c)+j*j*(g-2*f+c),p=e+2*j*(d-e)+j*j*(h-2*d+e);a=(1-j)*a+j*c;b=(1-j)*b+j*e;f=(1-j)*f+j*g;d=(1-j)*d+j*h;h=90-y.atan((m-o)/(n-p))*180/Q;(m>o||n<p)&&(h+=180);return{x:k,y:i,m:{x:m,y:n},n:{x:o,y:p},start:{x:a,y:b},end:{x:f,y:d},alpha:h}};
var ta=aa(function(a){if(!a)return{x:0,y:0,width:0,height:0};a=sa(a);for(var b=0,c=0,e=[],f=[],d,g=0,h=a[q];g<h;g++){d=a[g];if(d[0]=="M"){b=d[1];c=d[2];e[D](b);f[D](c)}else{b=Bb(b,c,d[1],d[2],d[3],d[4],d[5],d[6]);e=e.concat(b.min.x,b.max.x);f=f.concat(b.min.y,b.max.y);b=d[5];c=d[6]}}a=Z[K](0,e);d=Z[K](0,f);return{x:a,y:d,width:S[K](0,e)-a,height:S[K](0,f)-d}}),ra=function(a){var b=[];if(!l.is(a,T)||!l.is(a&&a[0],T))a=l.parsePathString(a);for(var c=0,e=a[q];c<e;c++){b[c]=[];for(var f=0,d=a[c][q];f<
d;f++)b[c][f]=a[c][f]}b[$]=l._path2string;return b},Fa=aa(function(a){if(!l.is(a,T)||!l.is(a&&a[0],T))a=l.parsePathString(a);var b=[],c=0,e=0,f=0,d=0,g=0;if(a[0][0]=="M"){c=a[0][1];e=a[0][2];f=c;d=e;g++;b[D](["M",c,e])}g=g;for(var h=a[q];g<h;g++){var j=b[g]=[],i=a[g];if(i[0]!=ea.call(i[0])){j[0]=ea.call(i[0]);switch(j[0]){case "a":j[1]=i[1];j[2]=i[2];j[3]=i[3];j[4]=i[4];j[5]=i[5];j[6]=+(i[6]-c).toFixed(3);j[7]=+(i[7]-e).toFixed(3);break;case "v":j[1]=+(i[1]-e).toFixed(3);break;case "m":f=i[1];d=i[2];
default:for(var k=1,m=i[q];k<m;k++)j[k]=+(i[k]-(k%2?c:e)).toFixed(3)}}else{b[g]=[];if(i[0]=="m"){f=i[1]+c;d=i[2]+e}j=0;for(k=i[q];j<k;j++)b[g][j]=i[j]}i=b[g][q];switch(b[g][0]){case "z":c=f;e=d;break;case "h":c+=+b[g][i-1];break;case "v":e+=+b[g][i-1];break;default:c+=+b[g][i-2];e+=+b[g][i-1]}}b[$]=l._path2string;return b},0,ra),ia=aa(function(a){if(!l.is(a,T)||!l.is(a&&a[0],T))a=l.parsePathString(a);var b=[],c=0,e=0,f=0,d=0,g=0;if(a[0][0]=="M"){c=+a[0][1];e=+a[0][2];f=c;d=e;g++;b[0]=["M",c,e]}g=
g;for(var h=a[q];g<h;g++){var j=b[g]=[],i=a[g];if(i[0]!=oa.call(i[0])){j[0]=oa.call(i[0]);switch(j[0]){case "A":j[1]=i[1];j[2]=i[2];j[3]=i[3];j[4]=i[4];j[5]=i[5];j[6]=+(i[6]+c);j[7]=+(i[7]+e);break;case "V":j[1]=+i[1]+e;break;case "H":j[1]=+i[1]+c;break;case "M":f=+i[1]+c;d=+i[2]+e;default:for(var k=1,m=i[q];k<m;k++)j[k]=+i[k]+(k%2?c:e)}}else{k=0;for(m=i[q];k<m;k++)b[g][k]=i[k]}switch(j[0]){case "Z":c=f;e=d;break;case "H":c=j[1];break;case "V":e=j[1];break;case "M":f=b[g][b[g][q]-2];d=b[g][b[g][q]-
1];default:c=b[g][b[g][q]-2];e=b[g][b[g][q]-1]}}b[$]=l._path2string;return b},null,ra),ua=function(a,b,c,e){return[a,b,c,e,c,e]},Ta=function(a,b,c,e,f,d){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*e,g*f+h*c,g*d+h*e,f,d]},Ua=function(a,b,c,e,f,d,g,h,j,i){var k=Q*120/180,m=Q/180*(+f||0),n=[],o,p=aa(function(H,G,J){var fa=H*y.cos(J)-G*y.sin(J);H=H*y.sin(J)+G*y.cos(J);return{x:fa,y:H}});if(i){s=i[0];o=i[1];d=i[2];w=i[3]}else{o=p(a,b,-m);a=o.x;b=o.y;o=p(h,j,-m);h=o.x;j=o.y;y.cos(Q/180*f);y.sin(Q/180*f);o=(a-
h)/2;s=(b-j)/2;var r=o*o/(c*c)+s*s/(e*e);if(r>1){r=y.sqrt(r);c=r*c;e=r*e}r=c*c;w=e*e;r=(d==g?-1:1)*y.sqrt(M((r*w-r*s*s-w*o*o)/(r*s*s+w*o*o)));d=r*c*s/e+(a+h)/2;var w=r*-e*o/c+(b+j)/2,s=y.asin(((b-w)/e).toFixed(9));o=y.asin(((j-w)/e).toFixed(9));s=a<d?Q-s:s;o=h<d?Q-o:o;s<0&&(s=Q*2+s);o<0&&(o=Q*2+o);if(g&&s>o)s-=Q*2;if(!g&&o>s)o-=Q*2}r=o-s;if(M(r)>k){n=o;r=h;var F=j;o=s+k*(g&&o>s?1:-1);h=d+c*y.cos(o);j=w+e*y.sin(o);n=Ua(h,j,c,e,f,0,g,r,F,[o,n,d,w])}r=o-s;f=y.cos(s);k=y.sin(s);g=y.cos(o);o=y.sin(o);
d=y.tan(r/4);c=4/3*c*d;d=4/3*e*d;e=[a,b];a=[a+c*k,b-d*f];b=[h+c*o,j-d*g];h=[h,j];a[0]=2*e[0]-a[0];a[1]=2*e[1]-a[1];if(i)return[a,b,h].concat(n);else{n=[a,b,h].concat(n)[O]().split(",");i=[];h=0;for(j=n[q];h<j;h++)i[h]=h%2?p(n[h-1],n[h],m).y:p(n[h],n[h+1],m).x;return i}},va=function(a,b,c,e,f,d,g,h,j){var i=1-j;return{x:E(i,3)*a+E(i,2)*3*j*c+i*3*j*j*f+E(j,3)*g,y:E(i,3)*b+E(i,2)*3*j*e+i*3*j*j*d+E(j,3)*h}},Bb=aa(function(a,b,c,e,f,d,g,h){var j=f-2*c+a-(g-2*f+c),i=2*(c-a)-2*(f-c),k=a-c,m=(-i+y.sqrt(i*
i-4*j*k))/2/j;j=(-i-y.sqrt(i*i-4*j*k))/2/j;var n=[b,h],o=[a,g];M(m)>"1e12"&&(m=0.5);M(j)>"1e12"&&(j=0.5);if(m>0&&m<1){m=va(a,b,c,e,f,d,g,h,m);o[D](m.x);n[D](m.y)}if(j>0&&j<1){m=va(a,b,c,e,f,d,g,h,j);o[D](m.x);n[D](m.y)}j=d-2*e+b-(h-2*d+e);i=2*(e-b)-2*(d-e);k=b-e;m=(-i+y.sqrt(i*i-4*j*k))/2/j;j=(-i-y.sqrt(i*i-4*j*k))/2/j;M(m)>"1e12"&&(m=0.5);M(j)>"1e12"&&(j=0.5);if(m>0&&m<1){m=va(a,b,c,e,f,d,g,h,m);o[D](m.x);n[D](m.y)}if(j>0&&j<1){m=va(a,b,c,e,f,d,g,h,j);o[D](m.x);n[D](m.y)}return{min:{x:Z[K](0,o),
y:Z[K](0,n)},max:{x:S[K](0,o),y:S[K](0,n)}}}),sa=aa(function(a,b){var c=ia(a),e=b&&ia(b);a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};b={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};var f=function(o,p){var r;if(!o)return["C",p.x,p.y,p.x,p.y,p.x,p.y];!(o[0]in{T:1,Q:1})&&(p.qx=p.qy=null);switch(o[0]){case "M":p.X=o[1];p.Y=o[2];break;case "A":o=["C"].concat(Ua[K](0,[p.x,p.y].concat(o.slice(1))));break;case "S":r=p.x+(p.x-(p.bx||p.x));p=p.y+(p.y-(p.by||p.y));o=["C",r,p].concat(o.slice(1));break;case "T":p.qx=
p.x+(p.x-(p.qx||p.x));p.qy=p.y+(p.y-(p.qy||p.y));o=["C"].concat(Ta(p.x,p.y,p.qx,p.qy,o[1],o[2]));break;case "Q":p.qx=o[1];p.qy=o[2];o=["C"].concat(Ta(p.x,p.y,o[1],o[2],o[3],o[4]));break;case "L":o=["C"].concat(ua(p.x,p.y,o[1],o[2]));break;case "H":o=["C"].concat(ua(p.x,p.y,o[1],p.y));break;case "V":o=["C"].concat(ua(p.x,p.y,p.x,o[1]));break;case "Z":o=["C"].concat(ua(p.x,p.y,p.X,p.Y));break}return o},d=function(o,p){if(o[p][q]>7){o[p].shift();for(var r=o[p];r[q];)o.splice(p++,0,["C"].concat(r.splice(0,
6)));o.splice(p,1);j=S(c[q],e&&e[q]||0)}},g=function(o,p,r,w,s){if(o&&p&&o[s][0]=="M"&&p[s][0]!="M"){p.splice(s,0,["M",w.x,w.y]);r.bx=0;r.by=0;r.x=o[s][1];r.y=o[s][2];j=S(c[q],e&&e[q]||0)}},h=0,j=S(c[q],e&&e[q]||0);for(;h<j;h++){c[h]=f(c[h],a);d(c,h);e&&(e[h]=f(e[h],b));e&&d(e,h);g(c,e,a,b,h);g(e,c,b,a,h);var i=c[h],k=e&&e[h],m=i[q],n=e&&k[q];a.x=i[m-2];a.y=i[m-1];a.bx=x(i[m-4])||a.x;a.by=x(i[m-3])||a.y;b.bx=e&&(x(k[n-4])||b.x);b.by=e&&(x(k[n-3])||b.y);b.x=e&&k[n-2];b.y=e&&k[n-1]}return e?[c,e]:c},
null,ra),Va=aa(function(a){for(var b=[],c=0,e=a[q];c<e;c++){var f={},d=a[c].match(/^([^:]*):?([\d\.]*)/);f.color=l.getRGB(d[1]);if(f.color.error)return null;f.color=f.color.hex;d[2]&&(f.offset=d[2]+"%");b[D](f)}c=1;for(e=b[q]-1;c<e;c++)if(!b[c].offset){a=x(b[c-1].offset||0);d=0;for(f=c+1;f<e;f++)if(b[f].offset){d=b[f].offset;break}if(!d){d=100;f=e}d=x(d);for(d=(d-a)/(f-c+1);c<f;c++){a+=d;b[c].offset=a+"%"}}return b}),Wa=function(a,b,c,e){if(l.is(a,"string")||l.is(a,"object")){a=l.is(a,"string")?v.getElementById(a):
a;if(a.tagName)return b==null?{container:a,width:a.style.pixelWidth||a.offsetWidth,height:a.style.pixelHeight||a.offsetHeight}:{container:a,width:b,height:c}}else return{container:1,x:a,y:b,width:c,height:e}},Ga=function(a,b){var c=this;for(var e in b)if(b[u](e)&&!(e in a))switch(typeof b[e]){case "function":(function(f){a[e]=a===c?f:function(){return f[K](c,arguments)}})(b[e]);break;case "object":a[e]=a[e]||{};Ga.call(this,a[e],b[e]);break;default:a[e]=b[e];break}},ha=function(a,b){a==b.top&&(b.top=
a.prev);a==b.bottom&&(b.bottom=a.next);a.next&&(a.next.prev=a.prev);a.prev&&(a.prev.next=a.next)},Xa=function(a,b){if(b.top!==a){ha(a,b);a.next=null;a.prev=b.top;b.top.next=a;b.top=a}},Ya=function(a,b){if(b.bottom!==a){ha(a,b);a.next=b.bottom;a.prev=null;b.bottom.prev=a;b.bottom=a}},Za=function(a,b,c){ha(a,c);b==c.top&&(c.top=a);b.next&&(b.next.prev=a);a.next=b.next;a.prev=b;b.next=a},$a=function(a,b,c){ha(a,c);b==c.bottom&&(c.bottom=a);b.prev&&(b.prev.next=a);a.prev=b.prev;b.prev=a;a.next=b},ab=
function(a){return function(){throw new Error("Rapha\u00ebl: you are calling to method \u201c"+a+"\u201d of removed object");}};l.pathToRelative=Fa;if(l.svg){I.svgns="http://www.w3.org/2000/svg";I.xlink="http://www.w3.org/1999/xlink";P=function(a){return+a+(~~a===a)*0.5};var t=function(a,b){if(b)for(var c in b)b[u](c)&&a.setAttribute(c,z(b[c]));else{a=v.createElementNS(I.svgns,a);a.style.webkitTapHighlightColor="rgba(0,0,0,0)";return a}};l[$]=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+
this.version};var bb=function(a,b){var c=t("path");b.canvas&&b.canvas.appendChild(c);b=new C(c,b);b.type="path";da(b,{fill:"none",stroke:"#000",path:a});return b},ja=function(a,b,c){var e="linear",f=0.5,d=0.5,g=a.style;b=z(b).replace(Ra,function(k,m,n){e="radial";if(m&&n){f=x(m);d=x(n);k=(d>0.5)*2-1;E(f-0.5,2)+E(d-0.5,2)>0.25&&(d=y.sqrt(0.25-E(f-0.5,2))*k+0.5)&&d!=0.5&&(d=d.toFixed(5)-1.0E-5*k)}return""});b=b.split(/\s*\-\s*/);if(e=="linear"){var h=b.shift();h=-x(h);if(isNaN(h))return null;h=[0,0,
y.cos(h*Q/180),y.sin(h*Q/180)];var j=1/(S(M(h[2]),M(h[3]))||1);h[2]*=j;h[3]*=j;if(h[2]<0){h[0]=-h[2];h[2]=0}if(h[3]<0){h[1]=-h[3];h[3]=0}}b=Va(b);if(!b)return null;j=a.getAttribute("fill");(j=j.match(/^url\(#(.*)\)$/))&&c.defs.removeChild(v.getElementById(j[1]));j=t(e+"Gradient");j.id=ma();t(j,e=="radial"?{fx:f,fy:d}:{x1:h[0],y1:h[1],x2:h[2],y2:h[3]});c.defs.appendChild(j);c=0;for(h=b[q];c<h;c++){var i=t("stop");t(i,{offset:b[c].offset?b[c].offset:!c?"0%":"100%","stop-color":b[c].color||"#fff"});
j.appendChild(i)}t(a,{fill:"url(#"+j.id+")",opacity:1,"fill-opacity":1});g.fill="";g.opacity=1;return g.fillOpacity=1},Ha=function(a){var b=a.getBBox();t(a.pattern,{patternTransform:l.format("translate({0},{1})",b.x,b.y)})},da=function(a,b){var c={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},e=a.node,f=a.attrs,d=a.rotate(),g=function(p,r){if(r=c[ea.call(r)]){var w=p.attrs["stroke-width"]||
"1";p={round:w,square:w,butt:0}[p.attrs["stroke-linecap"]||b["stroke-linecap"]]||0;for(var s=[],F=r[q];F--;)s[F]=r[F]*w+(F%2?1:-1)*p;t(e,{"stroke-dasharray":s[O](",")})}};b[u]("rotation")&&(d=b.rotation);var h=z(d).split(V);if(h.length-1){h[1]=+h[1];h[2]=+h[2]}else h=null;x(d)&&a.rotate(0,true);for(var j in b)if(b[u](j))if(pa[u](j)){var i=b[j];f[j]=i;switch(j){case "blur":a.blur(i);break;case "rotation":a.rotate(i,true);break;case "href":case "title":case "target":var k=e.parentNode;if(ea.call(k.tagName)!=
"a"){var m=t("a");k.insertBefore(m,e);m.appendChild(e);k=m}j=="target"&&i=="blank"?k.setAttributeNS(a.paper.xlink,"show","new"):k.setAttributeNS(a.paper.xlink,j,i);break;case "cursor":e.style.cursor=i;break;case "clip-rect":k=z(i).split(V);if(k[q]==4){a.clip&&a.clip.parentNode.parentNode.removeChild(a.clip.parentNode);var n=t("clipPath");m=t("rect");n.id=ma();t(m,{x:k[0],y:k[1],width:k[2],height:k[3]});n.appendChild(m);a.paper.defs.appendChild(n);t(e,{"clip-path":"url(#"+n.id+")"});a.clip=m}if(!i){(i=
v.getElementById(e.getAttribute("clip-path").replace(/(^url\(#|\)$)/g,"")))&&i.parentNode.removeChild(i);t(e,{"clip-path":""});delete a.clip}break;case "path":if(a.type=="path")t(e,{d:i?(f.path=ia(i)):"M0,0"});break;case "width":e.setAttribute(j,i);if(f.fx){j="x";i=f.x}else break;case "x":if(f.fx)i=-f.x-(f.width||0);case "rx":if(j=="rx"&&a.type=="rect")break;case "cx":h&&(j=="x"||j=="cx")&&(h[1]+=i-f[j]);e.setAttribute(j,i);a.pattern&&Ha(a);break;case "height":e.setAttribute(j,i);if(f.fy){j="y";i=
f.y}else break;case "y":if(f.fy)i=-f.y-(f.height||0);case "ry":if(j=="ry"&&a.type=="rect")break;case "cy":h&&(j=="y"||j=="cy")&&(h[2]+=i-f[j]);e.setAttribute(j,i);a.pattern&&Ha(a);break;case "r":a.type=="rect"?t(e,{rx:i,ry:i}):e.setAttribute(j,i);break;case "src":a.type=="image"&&e.setAttributeNS(a.paper.xlink,"href",i);break;case "stroke-width":e.style.strokeWidth=i;e.setAttribute(j,i);f["stroke-dasharray"]&&g(a,f["stroke-dasharray"]);break;case "stroke-dasharray":g(a,i);break;case "translation":i=
z(i).split(V);i[0]=+i[0]||0;i[1]=+i[1]||0;if(h){h[1]+=i[0];h[2]+=i[1]}wa.call(a,i[0],i[1]);break;case "scale":i=z(i).split(V);a.scale(+i[0]||1,+i[1]||+i[0]||1,isNaN(x(i[2]))?null:+i[2],isNaN(x(i[3]))?null:+i[3]);break;case "fill":if(k=z(i).match(Qa)){n=t("pattern");var o=t("image");n.id=ma();t(n,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});t(o,{x:0,y:0});o.setAttributeNS(a.paper.xlink,"href",k[1]);n.appendChild(o);i=v.createElement("img");i.style.cssText="position:absolute;left:-9999em;top-9999em";
i.onload=function(){t(n,{width:this.offsetWidth,height:this.offsetHeight});t(o,{width:this.offsetWidth,height:this.offsetHeight});v.body.removeChild(this);a.paper.safari()};v.body.appendChild(i);i.src=k[1];a.paper.defs.appendChild(n);e.style.fill="url(#"+n.id+")";t(e,{fill:"url(#"+n.id+")"});a.pattern=n;a.pattern&&Ha(a);break}k=l.getRGB(i);if(k.error){if(({circle:1,ellipse:1}[u](a.type)||z(i).charAt()!="r")&&ja(e,i,a.paper)){f.gradient=i;f.fill="none";break}}else{delete b.gradient;delete f.gradient;
!l.is(f.opacity,"undefined")&&l.is(b.opacity,"undefined")&&t(e,{opacity:f.opacity});!l.is(f["fill-opacity"],"undefined")&&l.is(b["fill-opacity"],"undefined")&&t(e,{"fill-opacity":f["fill-opacity"]})}k[u]("opacity")&&t(e,{"fill-opacity":k.opacity>1?k.opacity/100:k.opacity});case "stroke":k=l.getRGB(i);e.setAttribute(j,k.hex);j=="stroke"&&k[u]("opacity")&&t(e,{"stroke-opacity":k.opacity>1?k.opacity/100:k.opacity});break;case "gradient":(({circle:1,ellipse:1})[u](a.type)||z(i).charAt()!="r")&&ja(e,i,
a.paper);break;case "opacity":if(f.gradient&&!f[u]("stroke-opacity"))t(e,{"stroke-opacity":i>1?i/100:i});case "fill-opacity":if(f.gradient){if(k=v.getElementById(e.getAttribute("fill").replace(/^url\(#|\)$/g,""))){k=k.getElementsByTagName("stop");k[k[q]-1].setAttribute("stop-opacity",i)}break}default:j=="font-size"&&(i=ba(i,10)+"px");k=j.replace(/(\-.)/g,function(p){return oa.call(p.substring(1))});e.style[k]=i;e.setAttribute(j,i);break}}Cb(a,b);if(h)a.rotate(h.join(L));else x(d)&&a.rotate(d,true)},
Cb=function(a,b){if(!(a.type!="text"||!(b[u]("text")||b[u]("font")||b[u]("font-size")||b[u]("x")||b[u]("y")))){var c=a.attrs,e=a.node,f=e.firstChild?ba(v.defaultView.getComputedStyle(e.firstChild,"").getPropertyValue("font-size"),10):10;if(b[u]("text")){for(c.text=b.text;e.firstChild;)e.removeChild(e.firstChild);b=z(b.text).split("\n");for(var d=0,g=b[q];d<g;d++)if(b[d]){var h=t("tspan");d&&t(h,{dy:f*1.2,x:c.x});h.appendChild(v.createTextNode(b[d]));e.appendChild(h)}}else{b=e.getElementsByTagName("tspan");
d=0;for(g=b[q];d<g;d++)d&&t(b[d],{dy:f*1.2,x:c.x})}t(e,{y:c.y});a=a.getBBox();(a=c.y-(a.y+a.height/2))&&l.is(a,"finite")&&t(e,{y:c.y+a})}},C=function(a,b){this[0]=a;this.id=l._oid++;this.node=a;a.raphael=this;this.paper=b;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!b.bottom&&(b.bottom=this);(this.prev=b.top)&&(b.top.next=this);b.top=this;this.next=null},A=C[B];C[B].rotate=function(a,b,c){if(this.removed)return this;if(a==null){if(this._.rt.cx)return[this._.rt.deg,
this._.rt.cx,this._.rt.cy][O](L);return this._.rt.deg}var e=this.getBBox();a=z(a).split(V);if(a[q]-1){b=x(a[1]);c=x(a[2])}a=x(a[0]);if(b!=null&&b!==false)this._.rt.deg=a;else this._.rt.deg+=a;c==null&&(b=null);this._.rt.cx=b;this._.rt.cy=c;b=b==null?e.x+e.width/2:b;c=c==null?e.y+e.height/2:c;if(this._.rt.deg){this.transformations[0]=l.format("rotate({0} {1} {2})",this._.rt.deg,b,c);this.clip&&t(this.clip,{transform:l.format("rotate({0} {1} {2})",-this._.rt.deg,b,c)})}else{this.transformations[0]=
"";this.clip&&t(this.clip,{transform:""})}t(this.node,{transform:this.transformations[O](L)});return this};C[B].hide=function(){!this.removed&&(this.node.style.display="none");return this};C[B].show=function(){!this.removed&&(this.node.style.display="");return this};C[B].remove=function(){if(!this.removed){ha(this,this.paper);this.node.parentNode.removeChild(this.node);for(var a in this)delete this[a];this.removed=true}};C[B].getBBox=function(){if(this.removed)return this;if(this.type=="path")return ta(this.attrs.path);
if(this.node.style.display=="none"){this.show();var a=true}var b={};try{b=this.node.getBBox()}catch(c){}finally{b=b||{}}if(this.type=="text"){b={x:b.x,y:Infinity,width:0,height:0};for(var e=0,f=this.node.getNumberOfChars();e<f;e++){var d=this.node.getExtentOfChar(e);d.y<b.y&&(b.y=d.y);d.y+d.height-b.y>b.height&&(b.height=d.y+d.height-b.y);d.x+d.width-b.x>b.width&&(b.width=d.x+d.width-b.x)}}a&&this.hide();return b};C[B].attr=function(a,b){if(this.removed)return this;if(a==null){a={};for(var c in this.attrs)if(this.attrs[u](c))a[c]=
this.attrs[c];this._.rt.deg&&(a.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(a.scale=this.scale());a.gradient&&a.fill=="none"&&(a.fill=a.gradient)&&delete a.gradient;return a}if(b==null&&l.is(a,"string")){if(a=="translation")return wa.call(this);if(a=="rotation")return this.rotate();if(a=="scale")return this.scale();if(a=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;return this.attrs[a]}if(b==null&&l.is(a,T)){c={};for(var e=0,f=a.length;e<f;e++)c[a[e]]=
this.attr(a[e]);return c}if(b!=null){e={};e[a]=b}else if(a!=null&&l.is(a,"object"))e=a;for(f in this.paper.customAttributes)if(this.paper.customAttributes[u](f)&&e[u](f)&&l.is(this.paper.customAttributes[f],"function")){a=this.paper.customAttributes[f].apply(this,[].concat(e[f]));this.attrs[f]=e[f];for(var d in a)if(a[u](d))e[d]=a[d]}da(this,e);return this};C[B].toFront=function(){if(this.removed)return this;this.node.parentNode.appendChild(this.node);var a=this.paper;a.top!=this&&Xa(this,a);return this};
C[B].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);Ya(this,this.paper)}return this};C[B].insertAfter=function(a){if(this.removed)return this;var b=a.node||a[a.length-1].node;b.nextSibling?b.parentNode.insertBefore(this.node,b.nextSibling):b.parentNode.appendChild(this.node);Za(this,a,this.paper);return this};C[B].insertBefore=function(a){if(this.removed)return this;var b=a.node||
a[0].node;b.parentNode.insertBefore(this.node,b);$a(this,a,this.paper);return this};C[B].blur=function(a){if(+a!==0){var b=t("filter"),c=t("feGaussianBlur");this.attrs.blur=a;b.id=ma();t(c,{stdDeviation:+a||1.5});b.appendChild(c);this.paper.defs.appendChild(b);this._blur=b;t(this.node,{filter:"url(#"+b.id+")"})}else{if(this._blur){this._blur.parentNode.removeChild(this._blur);delete this._blur;delete this.attrs.blur}this.node.removeAttribute("filter")}};var cb=function(a,b,c,e){var f=t("circle");
a.canvas&&a.canvas.appendChild(f);a=new C(f,a);a.attrs={cx:b,cy:c,r:e,fill:"none",stroke:"#000"};a.type="circle";t(f,a.attrs);return a},db=function(a,b,c,e,f,d){var g=t("rect");a.canvas&&a.canvas.appendChild(g);a=new C(g,a);a.attrs={x:b,y:c,width:e,height:f,r:d||0,rx:d||0,ry:d||0,fill:"none",stroke:"#000"};a.type="rect";t(g,a.attrs);return a},eb=function(a,b,c,e,f){var d=t("ellipse");a.canvas&&a.canvas.appendChild(d);a=new C(d,a);a.attrs={cx:b,cy:c,rx:e,ry:f,fill:"none",stroke:"#000"};a.type="ellipse";
t(d,a.attrs);return a},fb=function(a,b,c,e,f,d){var g=t("image");t(g,{x:c,y:e,width:f,height:d,preserveAspectRatio:"none"});g.setAttributeNS(a.xlink,"href",b);a.canvas&&a.canvas.appendChild(g);a=new C(g,a);a.attrs={x:c,y:e,width:f,height:d,src:b};a.type="image";return a},gb=function(a,b,c,e){var f=t("text");t(f,{x:b,y:c,"text-anchor":"middle"});a.canvas&&a.canvas.appendChild(f);a=new C(f,a);a.attrs={x:b,y:c,"text-anchor":"middle",text:e,font:pa.font,stroke:"none",fill:"#000"};a.type="text";da(a,a.attrs);
return a},hb=function(a,b){this.width=a||this.width;this.height=b||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);return this},za=function(){var a=Wa[K](0,arguments),b=a&&a.container,c=a.x,e=a.y,f=a.width;a=a.height;if(!b)throw new Error("SVG container not found.");var d=t("svg");c=c||0;e=e||0;f=f||512;a=a||342;t(d,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:f,height:a});if(b==1){d.style.cssText="position:absolute;left:"+c+"px;top:"+
e+"px";v.body.appendChild(d)}else b.firstChild?b.insertBefore(d,b.firstChild):b.appendChild(d);b=new na;b.width=f;b.height=a;b.canvas=d;Ga.call(b,b,l.fn);b.clear();return b};I.clear=function(){for(var a=this.canvas;a.firstChild;)a.removeChild(a.firstChild);this.bottom=this.top=null;(this.desc=t("desc")).appendChild(v.createTextNode("Created with Rapha\u00ebl"));a.appendChild(this.desc);a.appendChild(this.defs=t("defs"))};I.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);
for(var a in this)this[a]=ab(a)}}if(l.vml){var ib={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Db=/([clmz]),?([^clmz]*)/gi,Eb=/ progid:\S+Blur\([^\)]+\)/g,Fb=/-?[^,\s-]+/g,ka=1E3+L+1E3,la={path:1,rect:1},Gb=function(a){var b=/[ahqstv]/ig,c=ia;z(a).match(b)&&(c=sa);b=/[clmz]/g;if(c==ia&&!z(a).match(b))return a=z(a).replace(Db,function(j,i,k){var m=[],n=ea.call(i)=="m",o=ib[i];k.replace(Fb,function(p){if(n&&m[q]==2){o+=m+ib[i=="m"?"l":"L"];m=[]}m[D](P(p*10))});return o+m});b=c(a);var e;a=[];for(var f=
0,d=b[q];f<d;f++){c=b[f];e=ea.call(b[f][0]);e=="z"&&(e="x");for(var g=1,h=c[q];g<h;g++)e+=P(c[g]*10)+(g!=h-1?",":"");a[D](e)}return a[O](L)};l[$]=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+this.version};bb=function(a,b){var c=R("group");c.style.cssText="position:absolute;left:0;top:0;width:"+b.width+"px;height:"+b.height+"px";c.coordsize=b.coordsize;c.coordorigin=b.coordorigin;var e=R("shape"),f=e.style;f.width=b.width+"px";f.height=
b.height+"px";e.coordsize=ka;e.coordorigin=b.coordorigin;c.appendChild(e);e=new C(e,c,b);f={fill:"none",stroke:"#000"};a&&(f.path=a);e.type="path";e.path=[];e.Path="";da(e,f);b.canvas.appendChild(c);return e};da=function(a,b){a.attrs=a.attrs||{};var c=a.node,e=a.attrs,f=c.style,d;d=(b.x!=e.x||b.y!=e.y||b.width!=e.width||b.height!=e.height||b.r!=e.r)&&a.type=="rect";for(var g in b)if(b[u](g))e[g]=b[g];if(d){e.path=jb(e.x,e.y,e.width,e.height,e.r);a.X=e.x;a.Y=e.y;a.W=e.width;a.H=e.height}b.href&&(c.href=
b.href);b.title&&(c.title=b.title);b.target&&(c.target=b.target);b.cursor&&(f.cursor=b.cursor);"blur"in b&&a.blur(b.blur);if(b.path&&a.type=="path"||d)c.path=Gb(e.path);b.rotation!=null&&a.rotate(b.rotation,true);if(b.translation){d=z(b.translation).split(V);wa.call(a,d[0],d[1]);if(a._.rt.cx!=null){a._.rt.cx+=+d[0];a._.rt.cy+=+d[1];a.setBox(a.attrs,d[0],d[1])}}if(b.scale){d=z(b.scale).split(V);a.scale(+d[0]||1,+d[1]||+d[0]||1,+d[2]||null,+d[3]||null)}if("clip-rect"in b){d=z(b["clip-rect"]).split(V);
if(d[q]==4){d[2]=+d[2]+ +d[0];d[3]=+d[3]+ +d[1];g=c.clipRect||v.createElement("div");var h=g.style,j=c.parentNode;h.clip=l.format("rect({1}px {2}px {3}px {0}px)",d);if(!c.clipRect){h.position="absolute";h.top=0;h.left=0;h.width=a.paper.width+"px";h.height=a.paper.height+"px";j.parentNode.insertBefore(g,j);g.appendChild(j);c.clipRect=g}}if(!b["clip-rect"])c.clipRect&&(c.clipRect.style.clip="")}if(a.type=="image"&&b.src)c.src=b.src;if(a.type=="image"&&b.opacity){c.filterOpacity=" progid:DXImageTransform.Microsoft.Alpha(opacity="+
b.opacity*100+")";f.filter=(c.filterMatrix||"")+(c.filterOpacity||"")}b.font&&(f.font=b.font);b["font-family"]&&(f.fontFamily='"'+b["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"');b["font-size"]&&(f.fontSize=b["font-size"]);b["font-weight"]&&(f.fontWeight=b["font-weight"]);b["font-style"]&&(f.fontStyle=b["font-style"]);if(b.opacity!=null||b["stroke-width"]!=null||b.fill!=null||b.stroke!=null||b["stroke-width"]!=null||b["stroke-opacity"]!=null||b["fill-opacity"]!=null||b["stroke-dasharray"]!=
null||b["stroke-miterlimit"]!=null||b["stroke-linejoin"]!=null||b["stroke-linecap"]!=null){c=a.shape||c;d=c.getElementsByTagName("fill")&&c.getElementsByTagName("fill")[0];g=false;!d&&(g=d=R("fill"));if("fill-opacity"in b||"opacity"in b){f=((+e["fill-opacity"]+1||2)-1)*((+e.opacity+1||2)-1)*((+l.getRGB(b.fill).o+1||2)-1);f=Z(S(f,0),1);d.opacity=f}b.fill&&(d.on=true);if(d.on==null||b.fill=="none")d.on=false;if(d.on&&b.fill)if(f=b.fill.match(Qa)){d.src=f[1];d.type="tile"}else{d.color=l.getRGB(b.fill).hex;
d.src="";d.type="solid";if(l.getRGB(b.fill).error&&(a.type in{circle:1,ellipse:1}||z(b.fill).charAt()!="r")&&ja(a,b.fill)){e.fill="none";e.gradient=b.fill}}g&&c.appendChild(d);d=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0];g=false;!d&&(g=d=R("stroke"));if(b.stroke&&b.stroke!="none"||b["stroke-width"]||b["stroke-opacity"]!=null||b["stroke-dasharray"]||b["stroke-miterlimit"]||b["stroke-linejoin"]||b["stroke-linecap"])d.on=true;(b.stroke=="none"||d.on==null||b.stroke==0||b["stroke-width"]==
0)&&(d.on=false);f=l.getRGB(b.stroke);d.on&&b.stroke&&(d.color=f.hex);f=((+e["stroke-opacity"]+1||2)-1)*((+e.opacity+1||2)-1)*((+f.o+1||2)-1);h=(x(b["stroke-width"])||1)*0.75;f=Z(S(f,0),1);b["stroke-width"]==null&&(h=e["stroke-width"]);b["stroke-width"]&&(d.weight=h);h&&h<1&&(f*=h)&&(d.weight=1);d.opacity=f;b["stroke-linejoin"]&&(d.joinstyle=b["stroke-linejoin"]||"miter");d.miterlimit=b["stroke-miterlimit"]||8;b["stroke-linecap"]&&(d.endcap=b["stroke-linecap"]=="butt"?"flat":b["stroke-linecap"]==
"square"?"square":"round");if(b["stroke-dasharray"]){f={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};d.dashstyle=f[u](b["stroke-dasharray"])?f[b["stroke-dasharray"]]:""}g&&c.appendChild(d)}if(a.type=="text"){f=a.paper.span.style;e.font&&(f.font=e.font);e["font-family"]&&(f.fontFamily=e["font-family"]);e["font-size"]&&(f.fontSize=e["font-size"]);e["font-weight"]&&(f.fontWeight=
e["font-weight"]);e["font-style"]&&(f.fontStyle=e["font-style"]);a.node.string&&(a.paper.span.innerHTML=z(a.node.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));a.W=e.w=a.paper.span.offsetWidth;a.H=e.h=a.paper.span.offsetHeight;a.X=e.x;a.Y=e.y+P(a.H/2);switch(e["text-anchor"]){case "start":a.node.style["v-text-align"]="left";a.bbx=P(a.W/2);break;case "end":a.node.style["v-text-align"]="right";a.bbx=-P(a.W/2);break;default:a.node.style["v-text-align"]="center";break}}};ja=
function(a,b){a.attrs=a.attrs||{};var c="linear",e=".5 .5";a.attrs.gradient=b;b=z(b).replace(Ra,function(j,i,k){c="radial";if(i&&k){i=x(i);k=x(k);E(i-0.5,2)+E(k-0.5,2)>0.25&&(k=y.sqrt(0.25-E(i-0.5,2))*((k>0.5)*2-1)+0.5);e=i+L+k}return""});b=b.split(/\s*\-\s*/);if(c=="linear"){var f=b.shift();f=-x(f);if(isNaN(f))return null}var d=Va(b);if(!d)return null;a=a.shape||a.node;b=a.getElementsByTagName("fill")[0]||R("fill");!b.parentNode&&a.appendChild(b);if(d[q]){b.on=true;b.method="none";b.color=d[0].color;
b.color2=d[d[q]-1].color;a=[];for(var g=0,h=d[q];g<h;g++)d[g].offset&&a[D](d[g].offset+L+d[g].color);b.colors&&(b.colors.value=a[q]?a[O]():"0% "+b.color);if(c=="radial"){b.type="gradientradial";b.focus="100%";b.focussize=e;b.focusposition=e}else{b.type="gradient";b.angle=(270-f)%360}}return 1};C=function(a,b,c){this[0]=a;this.id=l._oid++;this.node=a;a.raphael=this;this.Y=this.X=0;this.attrs={};this.Group=b;this.paper=c;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!c.bottom&&(c.bottom=this);(this.prev=
c.top)&&(c.top.next=this);c.top=this;this.next=null};A=C[B];A.rotate=function(a,b,c){if(this.removed)return this;if(a==null){if(this._.rt.cx)return[this._.rt.deg,this._.rt.cx,this._.rt.cy][O](L);return this._.rt.deg}a=z(a).split(V);if(a[q]-1){b=x(a[1]);c=x(a[2])}a=x(a[0]);if(b!=null)this._.rt.deg=a;else this._.rt.deg+=a;c==null&&(b=null);this._.rt.cx=b;this._.rt.cy=c;this.setBox(this.attrs,b,c);this.Group.style.rotation=this._.rt.deg;return this};A.setBox=function(a,b,c){if(this.removed)return this;
var e=this.Group.style,f=this.shape&&this.shape.style||this.node.style;a=a||{};for(var d in a)if(a[u](d))this.attrs[d]=a[d];b=b||this._.rt.cx;c=c||this._.rt.cy;var g=this.attrs,h;switch(this.type){case "circle":a=g.cx-g.r;d=g.cy-g.r;h=g=g.r*2;break;case "ellipse":a=g.cx-g.rx;d=g.cy-g.ry;h=g.rx*2;g=g.ry*2;break;case "image":a=+g.x;d=+g.y;h=g.width||0;g=g.height||0;break;case "text":this.textpath.v=["m",P(g.x),", ",P(g.y-2),"l",P(g.x)+1,", ",P(g.y-2)][O]("");a=g.x-P(this.W/2);d=g.y-this.H/2;h=this.W;
g=this.H;break;case "rect":case "path":if(this.attrs.path){g=ta(this.attrs.path);a=g.x;d=g.y;h=g.width;g=g.height}else{d=a=0;h=this.paper.width;g=this.paper.height}break;default:d=a=0;h=this.paper.width;g=this.paper.height;break}b=b==null?a+h/2:b;c=c==null?d+g/2:c;b=b-this.paper.width/2;c=c-this.paper.height/2;var j;e.left!=(j=b+"px")&&(e.left=j);e.top!=(j=c+"px")&&(e.top=j);this.X=la[u](this.type)?-b:a;this.Y=la[u](this.type)?-c:d;this.W=h;this.H=g;if(la[u](this.type)){f.left!=(j=-b*10+"px")&&(f.left=
j);f.top!=(j=-c*10+"px")&&(f.top=j)}else if(this.type=="text"){f.left!=(j=-b+"px")&&(f.left=j);f.top!=(j=-c+"px")&&(f.top=j)}else{e.width!=(j=this.paper.width+"px")&&(e.width=j);e.height!=(j=this.paper.height+"px")&&(e.height=j);f.left!=(j=a-b+"px")&&(f.left=j);f.top!=(j=d-c+"px")&&(f.top=j);f.width!=(j=h+"px")&&(f.width=j);f.height!=(j=g+"px")&&(f.height=j)}};A.hide=function(){!this.removed&&(this.Group.style.display="none");return this};A.show=function(){!this.removed&&(this.Group.style.display=
"block");return this};A.getBBox=function(){if(this.removed)return this;if(la[u](this.type))return ta(this.attrs.path);return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};A.remove=function(){if(!this.removed){ha(this,this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var a in this)delete this[a];this.removed=true}};A.attr=function(a,b){if(this.removed)return this;if(a==null){a=
{};for(var c in this.attrs)if(this.attrs[u](c))a[c]=this.attrs[c];this._.rt.deg&&(a.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(a.scale=this.scale());a.gradient&&a.fill=="none"&&(a.fill=a.gradient)&&delete a.gradient;return a}if(b==null&&l.is(a,"string")){if(a=="translation")return wa.call(this);if(a=="rotation")return this.rotate();if(a=="scale")return this.scale();if(a=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;return this.attrs[a]}if(this.attrs&&
b==null&&l.is(a,T)){var e,f={};c=0;for(e=a[q];c<e;c++)f[a[c]]=this.attr(a[c]);return f}if(b!=null){e={};e[a]=b}b==null&&l.is(a,"object")&&(e=a);if(e){for(f in this.paper.customAttributes)if(this.paper.customAttributes[u](f)&&e[u](f)&&l.is(this.paper.customAttributes[f],"function")){c=this.paper.customAttributes[f].apply(this,[].concat(e[f]));this.attrs[f]=e[f];for(var d in c)if(c[u](d))e[d]=c[d]}if(e.text&&this.type=="text")this.node.string=e.text;da(this,e);if(e.gradient&&({circle:1,ellipse:1}[u](this.type)||
z(e.gradient).charAt()!="r"))ja(this,e.gradient);(!la[u](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this};A.toFront=function(){!this.removed&&this.Group.parentNode.appendChild(this.Group);this.paper.top!=this&&Xa(this,this.paper);return this};A.toBack=function(){if(this.removed)return this;if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild);Ya(this,this.paper)}return this};A.insertAfter=function(a){if(this.removed)return this;
if(a.constructor==U)a=a[a.length-1];a.Group.nextSibling?a.Group.parentNode.insertBefore(this.Group,a.Group.nextSibling):a.Group.parentNode.appendChild(this.Group);Za(this,a,this.paper);return this};A.insertBefore=function(a){if(this.removed)return this;if(a.constructor==U)a=a[0];a.Group.parentNode.insertBefore(this.Group,a.Group);$a(this,a,this.paper);return this};A.blur=function(a){var b=this.node.runtimeStyle,c=b.filter;c=c.replace(Eb,"");if(+a!==0){this.attrs.blur=a;b.filter=c+L+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+
(+a||1.5)+")";b.margin=l.format("-{0}px 0 0 -{0}px",P(+a||1.5))}else{b.filter=c;b.margin=0;delete this.attrs.blur}};cb=function(a,b,c,e){var f=R("group"),d=R("oval");f.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";f.coordsize=ka;f.coordorigin=a.coordorigin;f.appendChild(d);d=new C(d,f,a);d.type="circle";da(d,{stroke:"#000",fill:"none"});d.attrs.cx=b;d.attrs.cy=c;d.attrs.r=e;d.setBox({x:b-e,y:c-e,width:e*2,height:e*2});a.canvas.appendChild(f);return d};var jb=
function(a,b,c,e,f){return f?l.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",a+f,b,c-f*2,f,-f,e-f*2,f*2-c,f*2-e):l.format("M{0},{1}l{2},0,0,{3},{4},0z",a,b,c,e,-c)};db=function(a,b,c,e,f,d){var g=jb(b,c,e,f,d);a=a.path(g);var h=a.attrs;a.X=h.x=b;a.Y=h.y=c;a.W=h.width=e;a.H=h.height=f;h.r=d;h.path=g;a.type="rect";return a};eb=function(a,b,c,e,f){var d=R("group"),g=R("oval");d.style.cssText="position:absolute;left:0;top:0;width:"+
a.width+"px;height:"+a.height+"px";d.coordsize=ka;d.coordorigin=a.coordorigin;d.appendChild(g);g=new C(g,d,a);g.type="ellipse";da(g,{stroke:"#000"});g.attrs.cx=b;g.attrs.cy=c;g.attrs.rx=e;g.attrs.ry=f;g.setBox({x:b-e,y:c-f,width:e*2,height:f*2});a.canvas.appendChild(d);return g};fb=function(a,b,c,e,f,d){var g=R("group"),h=R("image");g.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";g.coordsize=ka;g.coordorigin=a.coordorigin;h.src=b;g.appendChild(h);h=new C(h,
g,a);h.type="image";h.attrs.src=b;h.attrs.x=c;h.attrs.y=e;h.attrs.w=f;h.attrs.h=d;h.setBox({x:c,y:e,width:f,height:d});a.canvas.appendChild(g);return h};gb=function(a,b,c,e){var f=R("group"),d=R("shape"),g=d.style,h=R("path"),j=R("textpath");f.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";f.coordsize=ka;f.coordorigin=a.coordorigin;h.v=l.format("m{0},{1}l{2},{1}",P(b*10),P(c*10),P(b*10)+1);h.textpathok=true;g.width=a.width;g.height=a.height;j.string=z(e);
j.on=true;d.appendChild(j);d.appendChild(h);f.appendChild(d);g=new C(j,f,a);g.shape=d;g.textpath=h;g.type="text";g.attrs.text=e;g.attrs.x=b;g.attrs.y=c;g.attrs.w=1;g.attrs.h=1;da(g,{font:pa.font,stroke:"none",fill:"#000"});g.setBox();a.canvas.appendChild(f);return g};hb=function(a,b){var c=this.canvas.style;a==+a&&(a+="px");b==+b&&(b+="px");c.width=a;c.height=b;c.clip="rect(0 "+a+" "+b+" 0)";return this};var R;v.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!v.namespaces.rvml&&
v.namespaces.add("rvml","urn:schemas-microsoft-com:vml");R=function(a){return v.createElement("<rvml:"+a+' class="rvml">')}}catch(Nb){R=function(a){return v.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}za=function(){var a=Wa[K](0,arguments),b=a.container,c=a.height,e=a.width,f=a.x;a=a.y;if(!b)throw new Error("VML container not found.");var d=new na,g=d.canvas=v.createElement("div"),h=g.style;f=f||0;a=a||0;e=e||512;c=c||342;e==+e&&(e+="px");c==+c&&(c+="px");d.width=
1E3;d.height=1E3;d.coordsize=1E4+L+1E4;d.coordorigin="0 0";d.span=v.createElement("span");d.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";g.appendChild(d.span);h.cssText=l.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",e,c);if(b==1){v.body.appendChild(g);h.left=f+"px";h.top=a+"px";h.position="absolute"}else b.firstChild?b.insertBefore(g,b.firstChild):b.appendChild(g);
Ga.call(d,d,l.fn);return d};I.clear=function(){this.canvas.innerHTML="";this.span=v.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};I.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=ab(a);return true}}W=navigator.userAgent.match(/Version\/(.*?)\s/);I.safari=navigator.vendor=="Apple Computer, Inc."&&(W&&
W[1]<4||navigator.platform.slice(0,2)=="iP")?function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});ca.setTimeout(function(){a.remove()})}:function(){};var Hb=function(){this.returnValue=false},Ib=function(){return this.originalEvent.preventDefault()},Jb=function(){this.cancelBubble=true},Kb=function(){return this.originalEvent.stopPropagation()},Lb=function(){if(v.addEventListener)return function(a,b,c,e){var f=Ba&&Ca[b]?Ca[b]:b,d=function(g){if(Ba&&Ca[u](b))for(var h=
0,j=g.targetTouches&&g.targetTouches.length;h<j;h++)if(g.targetTouches[h].target==a){j=g;g=g.targetTouches[h];g.originalEvent=j;g.preventDefault=Ib;g.stopPropagation=Kb;break}return c.call(e,g)};a.addEventListener(f,d,false);return function(){a.removeEventListener(f,d,false);return true}};else if(v.attachEvent)return function(a,b,c,e){var f=function(d){d=d||ca.event;d.preventDefault=d.preventDefault||Hb;d.stopPropagation=d.stopPropagation||Jb;return c.call(e,d)};a.attachEvent("on"+b,f);return function(){a.detachEvent("on"+
b,f);return true}}}(),X=[],Ia=function(a){for(var b=a.clientX,c=a.clientY,e=v.documentElement.scrollTop||v.body.scrollTop,f=v.documentElement.scrollLeft||v.body.scrollLeft,d,g=X.length;g--;){d=X[g];if(Ba)for(var h=a.touches.length,j;h--;){j=a.touches[h];if(j.identifier==d.el._drag.id){b=j.clientX;c=j.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();b+=f;c+=e;d.move&&d.move.call(d.move_scope||d.el,b-d.el._drag.x,c-d.el._drag.y,b,c,a)}},Ja=function(a){l.unmousemove(Ia).unmouseup(Ja);
for(var b=X.length,c;b--;){c=X[b];c.el._drag={};c.end&&c.end.call(c.end_scope||c.start_scope||c.move_scope||c.el,a)}X=[]};for(W=ga[q];W--;)(function(a){l[a]=C[B][a]=function(b,c){if(l.is(b,"function")){this.events=this.events||[];this.events.push({name:a,f:b,unbind:Lb(this.shape||this.node||v,a,b,c||this)})}return this};l["un"+a]=C[B]["un"+a]=function(b){for(var c=this.events,e=c[q];e--;)if(c[e].name==a&&c[e].f==b){c[e].unbind();c.splice(e,1);!c.length&&delete this.events;return this}return this}})(ga[W]);
A.hover=function(a,b,c,e){return this.mouseover(a,c).mouseout(b,e||c)};A.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};A.drag=function(a,b,c,e,f,d){this._drag={};this.mousedown(function(g){(g.originalEvent||g).preventDefault();var h=v.documentElement.scrollTop||v.body.scrollTop,j=v.documentElement.scrollLeft||v.body.scrollLeft;this._drag.x=g.clientX+j;this._drag.y=g.clientY+h;this._drag.id=g.identifier;b&&b.call(f||e||this,g.clientX+j,g.clientY+h,g);!X.length&&l.mousemove(Ia).mouseup(Ja);
X.push({el:this,move:a,end:c,move_scope:e,start_scope:f,end_scope:d})});return this};A.undrag=function(a,b,c){for(b=X.length;b--;)X[b].el==this&&X[b].move==a&&X[b].end==c&&X.splice(b++,1);!X.length&&l.unmousemove(Ia).unmouseup(Ja)};I.circle=function(a,b,c){return cb(this,a||0,b||0,c||0)};I.rect=function(a,b,c,e,f){return db(this,a||0,b||0,c||0,e||0,f||0)};I.ellipse=function(a,b,c,e){return eb(this,a||0,b||0,c||0,e||0)};I.path=function(a){a&&!l.is(a,"string")&&!l.is(a[0],T)&&(a+="");return bb(l.format[K](l,
arguments),this)};I.image=function(a,b,c,e,f){return fb(this,a||"about:blank",b||0,c||0,e||0,f||0)};I.text=function(a,b,c){return gb(this,a||0,b||0,z(c))};I.set=function(a){arguments[q]>1&&(a=Array[B].splice.call(arguments,0,arguments[q]));return new U(a)};I.setSize=hb;I.top=I.bottom=null;I.raphael=l;A.resetScale=function(){if(this.removed)return this;this._.sx=1;this._.sy=1;this.attrs.scale="1 1"};A.scale=function(a,b,c,e){if(this.removed)return this;if(a==null&&b==null)return{x:this._.sx,y:this._.sy,
toString:Oa};b=b||a;!+b&&(b=a);var f,d,g=this.attrs;if(a!=0){var h=this.getBBox(),j=h.x+h.width/2,i=h.y+h.height/2;f=M(a/this._.sx);d=M(b/this._.sy);c=+c||c==0?c:j;e=+e||e==0?e:i;var k=this._.sx>0,m=this._.sy>0;h=~~(a/M(a));var n=~~(b/M(b)),o=f*h,p=d*n,r=this.node.style;j=c+M(j-c)*o*(j>c==k?1:-1);i=e+M(i-e)*p*(i>e==m?1:-1);var w=a*h>b*n?d:f;switch(this.type){case "rect":case "image":var s=g.width*f,F=g.height*d;this.attr({height:F,r:g.r*w,width:s,x:j-s/2,y:i-F/2});break;case "circle":case "ellipse":this.attr({rx:g.rx*
f,ry:g.ry*d,r:g.r*w,cx:j,cy:i});break;case "text":this.attr({x:j,y:i});break;case "path":w=Fa(g.path);var H=true;k=k?o:f;m=m?p:d;p=0;for(o=w[q];p<o;p++){var G=w[p],J=oa.call(G[0]);if(!(J=="M"&&H)){H=false;if(J=="A"){G[w[p][q]-2]*=k;G[w[p][q]-1]*=m;G[1]*=f;G[2]*=d;G[5]=+(h+n?!!+G[5]:!+G[5])}else if(J=="H"){J=1;for(var fa=G[q];J<fa;J++)G[J]*=k}else if(J=="V"){J=1;for(fa=G[q];J<fa;J++)G[J]*=m}else{J=1;for(fa=G[q];J<fa;J++)G[J]*=J%2?k:m}}}d=ta(w);f=j-d.x-d.width/2;d=i-d.y-d.height/2;w[0][1]+=f;w[0][2]+=
d;this.attr({path:w});break}if(this.type in{text:1,image:1}&&(h!=1||n!=1))if(this.transformations){this.transformations[2]="scale(".concat(h,",",n,")");this.node.setAttribute("transform",this.transformations[O](L));f=h==-1?-g.x-(s||0):g.x;d=n==-1?-g.y-(F||0):g.y;this.attr({x:f,y:d});g.fx=h-1;g.fy=n-1}else{this.node.filterMatrix=" progid:DXImageTransform.Microsoft"+".Matrix(M11=".concat(h,", M12=0, M21=0, M22=",n,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')");r.filter=(this.node.filterMatrix||
"")+(this.node.filterOpacity||"")}else if(this.transformations){this.transformations[2]="";this.node.setAttribute("transform",this.transformations[O](L));g.fx=0;g.fy=0}else{this.node.filterMatrix="";r.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||"")}g.scale=[a,b,c,e][O](L);this._.sx=a;this._.sy=b}return this};A.clone=function(){if(this.removed)return null;var a=this.attr();delete a.scale;delete a.translation;return this.paper[this.type]().attr(a)};var Ka={},xa=function(a,b,c,e,f,
d,g,h,j){var i=0,k=100,m=[a,b,c,e,f,d,g,h].join(),n=Ka[m],o,p;!n&&(Ka[m]=n={data:[]});n.timer&&clearTimeout(n.timer);n.timer=setTimeout(function(){delete Ka[m]},2E3);if(j!=null)k=~~xa(a,b,c,e,f,d,g,h)*10;for(var r=0;r<k+1;r++){if(n.data[j]>r)p=n.data[r*k];else{p=l.findDotsAtSegment(a,b,c,e,f,d,g,h,r/k);n.data[r]=p}r&&(i+=E(E(o.x-p.x,2)+E(o.y-p.y,2),0.5));if(j!=null&&i>=j)return p;o=p}if(j==null)return i};ga=function(a,b){return function(c,e,f){c=sa(c);for(var d,g,h,j,i="",k={},m=0,n=0,o=c.length;n<
o;n++){h=c[n];if(h[0]=="M"){d=+h[1];g=+h[2]}else{j=xa(d,g,h[1],h[2],h[3],h[4],h[5],h[6]);if(m+j>e){if(b&&!k.start){d=xa(d,g,h[1],h[2],h[3],h[4],h[5],h[6],e-m);i+=["C",d.start.x,d.start.y,d.m.x,d.m.y,d.x,d.y];if(f)return i;k.start=i;i=["M",d.x,d.y+"C",d.n.x,d.n.y,d.end.x,d.end.y,h[5],h[6]][O]();m+=j;d=+h[5];g=+h[6];continue}if(!a&&!b){d=xa(d,g,h[1],h[2],h[3],h[4],h[5],h[6],e-m);return{x:d.x,y:d.y,alpha:d.alpha}}}m+=j;d=+h[5];g=+h[6]}i+=h}k.end=i;d=a?m:b?k:l.findDotsAtSegment(d,g,h[1],h[2],h[3],h[4],
h[5],h[6],1);d.alpha&&(d={x:d.x,y:d.y,alpha:d.alpha});return d}};var kb=ga(1),ya=ga(),La=ga(0,1);A.getTotalLength=function(){if(this.type=="path"){if(this.node.getTotalLength)return this.node.getTotalLength();return kb(this.attrs.path)}};A.getPointAtLength=function(a){if(this.type=="path")return ya(this.attrs.path,a)};A.getSubpath=function(a,b){if(this.type=="path"){if(M(this.getTotalLength()-b)<"1e-6")return La(this.attrs.path,a).end;b=La(this.attrs.path,b,1);return a?La(b,a).end:b}};l.easing_formulas=
{linear:function(a){return a},"<":function(a){return E(a,3)},">":function(a){return E(a-1,3)+1},"<>":function(a){a*=2;if(a<1)return E(a,3)/2;a-=2;return(E(a,3)+2)/2},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){a-=1;return a*a*(2.70158*a+1.70158)+1},elastic:function(a){if(a==0||a==1)return a;return E(2,-10*a)*y.sin((a-0.075)*2*Q/0.3)+1},bounce:function(a){if(a<1/2.75)a=7.5625*a*a;else if(a<2/2.75){a-=1.5/2.75;a=7.5625*a*a+0.75}else if(a<2.5/2.75){a-=2.25/2.75;a=7.5625*a*
a+0.9375}else{a-=2.625/2.75;a=7.5625*a*a+0.984375}return a}};var Y=[],lb=function(){for(var a=+new Date,b=0;b<Y[q];b++){var c=Y[b];if(!(c.stop||c.el.removed)){var e=a-c.start,f=c.ms,d=c.easing,g=c.from,h=c.diff,j=c.to,i=c.t,k=c.el;c={};var m;if(e<f){e=d(e/f);for(var n in g)if(g[u](n)){switch(Da[n]){case "along":m=e*f*h[n];j.back&&(m=j.len-m);d=ya(j[n],m);k.translate(h.sx-h.x||0,h.sy-h.y||0);h.x=d.x;h.y=d.y;k.translate(d.x-h.sx,d.y-h.sy);j.rot&&k.rotate(h.r+d.alpha,d.x,d.y);break;case N:m=+g[n]+e*
f*h[n];break;case "colour":m="rgb("+[Ma(P(g[n].r+e*f*h[n].r)),Ma(P(g[n].g+e*f*h[n].g)),Ma(P(g[n].b+e*f*h[n].b))][O](",")+")";break;case "path":m=[];d=0;for(var o=g[n][q];d<o;d++){m[d]=[g[n][d][0]];for(var p=1,r=g[n][d][q];p<r;p++)m[d][p]=+g[n][d][p]+e*f*h[n][d][p];m[d]=m[d][O](L)}m=m[O](L);break;case "csv":switch(n){case "translation":m=e*f*h[n][0]-i.x;d=e*f*h[n][1]-i.y;i.x+=m;i.y+=d;m=m+L+d;break;case "rotation":m=+g[n][0]+e*f*h[n][0];g[n][1]&&(m+=","+g[n][1]+","+g[n][2]);break;case "scale":m=[+g[n][0]+
e*f*h[n][0],+g[n][1]+e*f*h[n][1],2 in j[n]?j[n][2]:"",3 in j[n]?j[n][3]:""][O](L);break;case "clip-rect":m=[];for(d=4;d--;)m[d]=+g[n][d]+e*f*h[n][d];break}break;default:o=[].concat(g[n]);m=[];for(d=k.paper.customAttributes[n].length;d--;)m[d]=+o[d]+e*f*h[n][d];break}c[n]=m}k.attr(c);k._run&&k._run.call(k)}else{if(j.along){d=ya(j.along,j.len*!j.back);k.translate(h.sx-(h.x||0)+d.x-h.sx,h.sy-(h.y||0)+d.y-h.sy);j.rot&&k.rotate(h.r+d.alpha,d.x,d.y)}(i.x||i.y)&&k.translate(-i.x,-i.y);j.scale&&(j.scale+=
"");k.attr(j);Y.splice(b--,1)}}}l.svg&&k&&k.paper&&k.paper.safari();Y[q]&&setTimeout(lb)},Mb=function(a,b,c,e,f){var d=c-e;b.timeouts.push(setTimeout(function(){l.is(f,"function")&&f.call(b);b.animate(a,d,a.easing)},e))},Ma=function(a){return S(Z(a,255),0)},wa=function(a,b){if(a==null)return{x:this._.tx,y:this._.ty,toString:Oa};this._.tx+=+a;this._.ty+=+b;switch(this.type){case "circle":case "ellipse":this.attr({cx:+a+this.attrs.cx,cy:+b+this.attrs.cy});break;case "rect":case "image":case "text":this.attr({x:+a+
this.attrs.x,y:+b+this.attrs.y});break;case "path":var c=Fa(this.attrs.path);c[0][1]+=+a;c[0][2]+=+b;this.attr({path:c});break}return this};A.animateWith=function(a,b,c,e,f){for(var d=0,g=Y.length;d<g;d++)if(Y[d].el.id==a.id)b.start=Y[d].start;return this.animate(b,c,e,f)};A.animateAlong=Pa();A.animateAlongBack=Pa(1);A.onAnimation=function(a){this._run=a||0;return this};A.animate=function(a,b,c,e){var f=this;f.timeouts=f.timeouts||[];if(l.is(c,"function")||!c)e=c||null;if(f.removed){e&&e.call(f);
return f}var d={},g={},h=false,j={};for(var i in a)if(a[u](i))if(Da[u](i)||f.paper.customAttributes[u](i)){h=true;d[i]=f.attr(i);d[i]==null&&(d[i]=pa[i]);g[i]=a[i];switch(Da[i]){case "along":var k=kb(a[i]),m=ya(a[i],k*!!a.back),n=f.getBBox();j[i]=k/b;j.tx=n.x;j.ty=n.y;j.sx=m.x;j.sy=m.y;g.rot=a.rot;g.back=a.back;g.len=k;a.rot&&(j.r=x(f.rotate())||0);break;case N:j[i]=(g[i]-d[i])/b;break;case "colour":d[i]=l.getRGB(d[i]);k=l.getRGB(g[i]);j[i]={r:(k.r-d[i].r)/b,g:(k.g-d[i].g)/b,b:(k.b-d[i].b)/b};break;
case "path":k=sa(d[i],g[i]);d[i]=k[0];n=k[1];j[i]=[];k=0;for(m=d[i][q];k<m;k++){j[i][k]=[0];for(var o=1,p=d[i][k][q];o<p;o++)j[i][k][o]=(n[k][o]-d[i][k][o])/b}break;case "csv":m=z(a[i]).split(V);n=z(d[i]).split(V);switch(i){case "translation":d[i]=[0,0];j[i]=[m[0]/b,m[1]/b];break;case "rotation":d[i]=n[1]==m[1]&&n[2]==m[2]?n:[0,m[1],m[2]];j[i]=[(m[0]-d[i][0])/b,0,0];break;case "scale":a[i]=m;d[i]=z(d[i]).split(V);j[i]=[(m[0]-d[i][0])/b,(m[1]-d[i][1])/b,0,0];break;case "clip-rect":d[i]=z(d[i]).split(V);
j[i]=[];for(k=4;k--;)j[i][k]=(m[k]-d[i][k])/b;break}g[i]=m;break;default:m=[].concat(a[i]);n=[].concat(d[i]);j[i]=[];for(k=f.paper.customAttributes[i][q];k--;)j[i][k]=((m[k]||0)-(n[k]||0))/b;break}}if(h){i=l.easing_formulas[c];if(!i)if((i=z(c).match(sb))&&i[q]==5){var r=i;i=function(F){return nb(F,+r[1],+r[2],+r[3],+r[4],b)}}else i=function(F){return F};Y.push({start:a.start||+new Date,ms:b,easing:i,from:d,diff:j,to:g,el:f,t:{x:0,y:0}});l.is(e,"function")&&(f._ac=setTimeout(function(){e.call(f)},
b));Y[q]==1&&setTimeout(lb)}else{c=[];var w;for(var s in a)if(a[u](s)&&tb.test(s)){i={value:a[s]};s=="from"&&(s=0);s=="to"&&(s=100);i.key=ba(s,10);c.push(i)}c.sort(yb);c[0].key&&c.unshift({key:0,value:f.attrs});k=0;for(m=c[q];k<m;k++)Mb(c[k].value,f,b/100*c[k].key,b/100*(c[k-1]&&c[k-1].key||0),c[k-1]&&c[k-1].value.callback);(w=c[c[q]-1].value.callback)&&f.timeouts.push(setTimeout(function(){w.call(f)},b))}return this};A.stop=function(){for(var a=0;a<Y.length;a++)Y[a].el.id==this.id&&Y.splice(a--,
1);a=0;for(ii=this.timeouts&&this.timeouts.length;a<ii;a++)clearTimeout(this.timeouts[a]);this.timeouts=[];clearTimeout(this._ac);delete this._ac;return this};A.translate=function(a,b){return this.attr({translation:a+" "+b})};A[$]=function(){return"Rapha\u00ebl\u2019s object"};l.ae=Y;var U=function(a){this.items=[];this[q]=0;this.type="set";if(a)for(var b=0,c=a[q];b<c;b++)if(a[b]&&(a[b].constructor==C||a[b].constructor==U)){this[this.items[q]]=this.items[this.items[q]]=a[b];this[q]++}};U[B][D]=function(){for(var a,
b,c=0,e=arguments[q];c<e;c++)if((a=arguments[c])&&(a.constructor==C||a.constructor==U)){b=this.items[q];this[b]=this.items[b]=a;this[q]++}return this};U[B].pop=function(){delete this[this[q]--];return this.items.pop()};for(var Na in A)if(A[u](Na))U[B][Na]=function(a){return function(){for(var b=0,c=this.items[q];b<c;b++)this.items[b][a][K](this.items[b],arguments);return this}}(Na);U[B].attr=function(a,b){if(a&&l.is(a,T)&&l.is(a[0],"object")){b=0;for(var c=a[q];b<c;b++)this.items[b].attr(a[b])}else{c=
0;for(var e=this.items[q];c<e;c++)this.items[c].attr(a,b)}return this};U[B].animate=function(a,b,c,e){(l.is(c,"function")||!c)&&(e=c||null);var f=this.items[q],d=f,g,h=this,j;e&&(j=function(){!--f&&e.call(h)});c=l.is(c,"string")?c:j;for(g=this.items[--d].animate(a,b,c,j);d--;)this.items[d]&&!this.items[d].removed&&this.items[d].animateWith(g,a,b,c,j);return this};U[B].insertAfter=function(a){for(var b=this.items[q];b--;)this.items[b].insertAfter(a);return this};U[B].getBBox=function(){for(var a=[],
b=[],c=[],e=[],f=this.items[q];f--;){var d=this.items[f].getBBox();a[D](d.x);b[D](d.y);c[D](d.x+d.width);e[D](d.y+d.height)}a=Z[K](0,a);b=Z[K](0,b);return{x:a,y:b,width:S[K](0,c)-a,height:S[K](0,e)-b}};U[B].clone=function(a){a=new U;for(var b=0,c=this.items[q];b<c;b++)a[D](this.items[b].clone());return a};l.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},c=a.face["font-family"];for(var e in a.face)if(a.face[u](e))b.face[e]=a.face[e];if(this.fonts[c])this.fonts[c][D](b);
else this.fonts[c]=[b];if(!a.svg){b.face["units-per-em"]=ba(a.face["units-per-em"],10);for(var f in a.glyphs)if(a.glyphs[u](f)){c=a.glyphs[f];b.glyphs[f]={w:c.w,k:{},d:c.d&&"M"+c.d.replace(/[mlcxtrv]/g,function(g){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[g]||"M"})+"z"};if(c.k)for(var d in c.k)if(c[u](d))b.glyphs[f].k[d]=c.k[d]}}return a};I.getFont=function(a,b,c,e){e=e||"normal";c=c||"normal";b=+b||{normal:400,bold:700,lighter:300,bolder:800}[b]||400;if(l.fonts){var f=l.fonts[a];if(!f){a=new RegExp("(^|\\s)"+
a.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(var d in l.fonts)if(l.fonts[u](d))if(a.test(d)){f=l.fonts[d];break}}var g;if(f){d=0;for(a=f[q];d<a;d++){g=f[d];if(g.face["font-weight"]==b&&(g.face["font-style"]==c||!g.face["font-style"])&&g.face["font-stretch"]==e)break}}return g}};I.print=function(a,b,c,e,f,d,g){d=d||"middle";g=S(Z(g||0,1),-1);var h=this.set(),j=z(c).split(""),i=0;l.is(e,c)&&(e=this.getFont(e));if(e){c=(f||16)/e.face["units-per-em"];var k=e.face.bbox.split(V);f=+k[0];d=+k[1]+
(d=="baseline"?k[3]-k[1]+ +e.face.descent:(k[3]-k[1])/2);k=0;for(var m=j[q];k<m;k++){var n=k&&e.glyphs[j[k-1]]||{},o=e.glyphs[j[k]];i+=k?(n.w||e.w)+(n.k&&n.k[j[k]]||0)+e.w*g:0;o&&o.d&&h[D](this.path(o.d).attr({fill:"#000",stroke:"none",translation:[i,0]}))}h.scale(c,c,f,d).translate(a-f,b-d)}return h};l.format=function(a,b){var c=l.is(b,T)?[0].concat(b):arguments;a&&l.is(a,"string")&&c[q]-1&&(a=a.replace(ob,function(e,f){return c[++f]==null?"":c[f]}));return a||""};l.ninja=function(){Aa.was?(ca.Raphael=
Aa.is):delete Raphael;return l};l.el=A;l.st=U[B];Aa.was?(ca.Raphael=l):(Raphael=l)})();
CLASSIC=1;SPOOKY=2;COLLAPSE=3;START_SPOOKY=1;FINISH_SPOOKY=2;MEASURE=3;
function State(){this.square=function(d){return this.squares[d-1]};this.update=function(){this._findCycle();this.validMoves=this.getValidMoves();this.validSquares=[];if(this.outcome=this.getOutcome())for(var d=0;d<9;d++)for(var g=0;g<this.squares[d].marks.length;g++){var e=this.squares[d].marks[g];e.type==SPOOKY&&e.destroy()}else{this.turn=!this.moves.length||this.moves.length&&(last=this.moves[this.moves.length-1])&&last.player==2&&last.type!=COLLAPSE||last.player==1&&last.type==COLLAPSE?1:2;g=[];
if(this.cycleSquares){e=this.cycleSquares;for(d=0;d<e.length;d++)g[e[d]]=true;this.nextAction=MEASURE;this.turn==1&&qtpy.status.queue("Your turn (Make a measurement)")}else{e=this.validMoves;for(d=0;d<e.length;d++){g[parseInt(e[d][0])]=true;g[parseInt(e[d][1])]=true}if(e.length>1){this.nextAction=START_SPOOKY;this.turn==1&&window.qtpy&&qtpy.status&&qtpy.status.queue("Your turn (1 of 2)")}}if(this.turn==1){this.validSquares=g;this.botSquares=null}else this.botSquares=g}};this.step=function(d){if(this.moves.length){var g=
this.moves[this.moves.length-1];if(g.sq1==d.sq1&&g.sq2==d.sq2&&g.autoCollapsed)return}var e=this;if(d.type==CLASSIC){g=this.square(d.sq1);ra.circle(g.rect.attr("x")+g.rect.attr("width")/2,g.rect.attr("y")+g.rect.attr("height")/2,0).attr({fill:qtpy.color(d.player),stroke:qtpy.color(d.player)}).animate({r:35},500,"bounce");g.marks=[new Mark(g,CLASSIC,d.player,d.weight)]}else if(d.type==SPOOKY){a=new Mark(this.square(d.sq1),SPOOKY,d.player,d.weight);b=new Mark(this.square(d.sq2),SPOOKY,d.player,d.weight,
a);a.link=b;this.square(d.sq1).marks.push(a);this.square(d.sq2).marks.push(b);if(d.player==2){this.square(d.sq1).startSpooky(2,this.weight);this.square(d.sq2).finishSpooky(2,this.square(d.sq1),this.weight)}}else d.type==COLLAPSE&&this.square(d.sq2).collapse(this.cycleSquares.slice(0));this.moves.push(d);this.weight++;this.update();if(this.outcome){e.moves[e.moves.length-1].player==1&&$.post("/getmove",{state:e.dumps()});safeTimeout($game,function(){for(var f=e.outcome[2],h=[],c=0;c<f.length;c++)for(var j=
1;j<f[c].length;j++)if(!h[f[c][j]]){e.square(f[c][j]).rect.animate({fill:qtpy.lightColor(f[c][0])},500);h[f[c][j]]=true}for(c=1;c<=9;c++)h[c]||e.square(c).rect.animate({fill:"#FFF"},500);var n,o;if(e.outcome[0]==e.outcome[1]){n="No winner";o="#000"}else{if(e.outcome[0]>e.outcome[1]){f=["You",0,1];o="#00F"}else{f=["I",1,0];o="#F00"}h=function(k){if(k==0.5)return"&#189;";if(k==1.5)return"1&#189;";return k.toString()};n=f[0]+" win ("+h(e.outcome[f[1]])+" to "+h(e.outcome[f[2]])+")"}if($(document.body).is(".mobileSafari"))var p=
function(){qtpy.status.queue(n,o);safeTimeout($game,function(){qtpy.status.queue("Flip for new game");safeTimeout($game,p,3E3)},3E3)};else{safeTimeout($game,function(){$(document.body).dblclick(safeCallback($game,function(){$(document.body).is(".info")||qtpy.newGame()}))},500);$('<div id="capture">').prependTo(document.body);p=function(){qtpy.status.queue(n,o);safeTimeout($game,function(){qtpy.status.queue("Double-click for new game");safeTimeout($game,p,3E3)},3E3)}}p()})}else{if(d.player==1&&d.type!=
COLLAPSE){qtpy.status.queue("My turn (Thinking...)");(function(f){safeTimeout($game,function(){$.post("/getmove",{state:f,difficulty:window.difficulty},safeCallback($game,function(h){bot=h[0];if(bot.length){h=bot.split("/");for(var c=function(n){safeTimeout($game,function(){e.step(new Move(2,e.weight,parseInt(n[0]),parseInt(n[1])))})},j=0;j<h.length;j++)c(h[j])}}))},2)})(e.dumps())}if(e.cycleSquares){g=false;for(var i=1;i<=9;i++)if(e.diverseSquares[i]){g=true;break}if(!g){var m=e.cycleSquares.slice(0);
m.sort();safeTimeout($game,function(){e.step(new Move(parseInt(!(d.player-1)+1),e.weight,0,m[0],true))});return}}e.indicateValidSquares(function(){if(e.validMoves.length==1){var f=parseInt(e.validMoves[0][0]);safeTimeout($game,function(){e.step(new Move(1,e.weight,f,f))})}else if((d.player==2&&d.type!=COLLAPSE||d.player==1&&d.type==COLLAPSE)&&!e.cycleSquares&&e.validMoves.length==2&&e.validMoves[0][0]==e.validMoves[1][1]&&e.validMoves[0][1]==e.validMoves[1][0]){var h=parseInt(e.validMoves[0][0]),
c=parseInt(e.validMoves[0][1]);safeTimeout($game,function(){e.step(new Move(1,e.weight,h,c));e.square(h).startSpooky(1,e.weight);e.square(c).finishSpooky(1,e.square(h),e.weight)})}});for(i=0;i<9;i++)this.squares[i].clicked=false}};this.indicateValidSquares=function(d){function g(){++i==e&&d&&d()}var e=0,i=0;if(this.cycleSquares){for(var m=[],f=0;f<9;f++){for(var h=false,c=0;c<this.cycleSquares.length;c++)if(this.cycleSquares[c]==f+1){h=true;break}if(!h){m[f+1]=true;e++;this.squares[f].rect.animate({fill:"#666"},
250,g)}}for(f=1;f<=9;f++){var j=this.square(f);h=false;for(c=0;c<this.cycleSquares.length;c++)if(this.cycleSquares[c]==f){h=true;break}if(h&&!this.diverseSquares[f]){j.marked=true;m[j.num]=true;e++;j.rect.animate({fill:"#CCC"},250,g);c=function(r,s,q,w){return safeCallback($game,function(){r.hide();s.attr({cx:q,cy:w});g()})};var n=function(r,s,q,w){return safeCallback($game,function(){r.toFront().attr({cx:q,cy:w});g()})},o=false;h=false;for(var p,k=0;k<j.marks.length;k++)for(var l=0;l<this.cycleMarks.length;l++)if(j.marks[k]==
this.cycleMarks[l]){p=j.marks[k].player;break}var t=qtpy.color(p),x=j.rect.attr("x")+j.rect.attr("width")/2,y=j.rect.attr("y")+j.rect.attr("height")/2;for(k=0;k<j.marks.length;k++){o=false;if(l=j.marks[k].spooky){if(j.marks[k].player==p){if(!h)o=h=true;e+=2;l.stop().hide();var u=ra.circle(l.attr("cx"),l.attr("cy"),l.attr("r")).attr({fill:t,stroke:t});u.behindBoard().animate({cx:x,cy:y,r:35},250,"bounce",o?n(u,l,x,y):c(u,l,x,y));l.orbit.animate({opacity:0},250,g);l.animation=u;l.hide()}}else if(j.spooky){j.spooky.stop().hide();
j.spooky.orbit.hide()}}}}var z=function(r){r.animateCollapse();for(var s=r.square,q=0;q<s.marks.length;q++)s.marks[q]!=r&&z(s.marks[q].link)};for(f=0;f<this.cycleSquares.length;f++){j=this.square(this.cycleSquares[f]);for(c=0;c<j.marks.length;c++){l=j.marks[c];h=false;for(k=0;k<this.cycleMarks.length;k++)if(this.cycleMarks[k]==l)h=true;h||z(l.link)}}for(f=1;f<=9;f++)if(!m[f]){e++;this.square(f).rect.animate({fill:"#FFF"},250,g)}}else if(!this.cycleSquares){e=9;m=this.validSquares;if(this.turn==2)m=
this.botSquares;for(f=1;f<=9;f++)m[f]?this.square(f).rect.animate({fill:"#FFF"},250,g):this.square(f).rect.animate({fill:"#CCC"},250,g)}};this.getOutcome=function(){function d(j){return m.squares[j].marker()}function g(j,n){return m.squares[j*3+n].marks[0].weight}function e(j,n,o){return Math.max(Math.max(j,n),o)}function i(j,n,o,p,k,l,t){f[j-1].push(e(g(n,o),g(p,k),g(l,t)));h.push([j,n*3+o+1,p*3+k+1,l*3+t+1])}var m=this,f=[[],[]],h=[],c=[[d(0),d(1),d(2)],[d(3),d(4),d(5)],[d(6),d(7),d(8)]];c[0][0]&&
c[0][0]==c[0][1]&&c[0][0]==c[0][2]&&i(c[0][0],0,0,0,1,0,2);c[1][0]&&c[1][0]==c[1][1]&&c[1][0]==c[1][2]&&i(c[1][0],1,0,1,1,1,2);c[2][0]&&c[2][0]==c[2][1]&&c[2][0]==c[2][2]&&i(c[2][0],2,0,2,1,2,2);c[0][0]&&c[0][0]==c[1][0]&&c[0][0]==c[2][0]&&i(c[0][0],0,0,1,0,2,0);c[0][1]&&c[0][1]==c[1][1]&&c[0][1]==c[2][1]&&i(c[0][1],0,1,1,1,2,1);c[0][2]&&c[0][2]==c[1][2]&&c[0][2]==c[2][2]&&i(c[0][2],0,2,1,2,2,2);c[0][0]&&c[0][0]==c[1][1]&&c[0][0]==c[2][2]&&i(c[0][0],0,0,1,1,2,2);c[0][2]&&c[0][2]==c[1][1]&&c[0][2]==
c[2][0]&&i(c[0][2],0,2,1,1,2,0);if(f[0].length){if(f[0].length==1){if(f[1].length){if(f[0][0]<f[1][0])return[1,0.5,h];return[0.5,1,h]}return[1,0,h]}if(f[0][0]==f[0][1])return[2,0,h];return[1.5,0,h]}else if(f[1].length)return[0,1,h];empty=false;for(c=0;c<9;c++)m.squares[c].isClassic()||(empty=true);if(!empty)return[0,0,h];return null};this.getValidMoves=function(){for(var d=false,g=0,e=[],i=0;i<9;i++)if(this.squares[i].marks.length)if(this.squares[i].marks[0].type==CLASSIC)g++;else e.push(i);else{d=
i+1;e.push(i)}if(g==8&&d!==false)return[d.toString()+d.toString()];valid=[];if(cycle=this.cycleSquares){for(i=0;i<cycle.length;i++)valid.push("0"+cycle[i].toString());return valid}e.sort();for(i=0;i<e.length;i++)for(d=0;d<e.length;d++)i!=d&&valid.push((e[i]+1).toString()+(e[d]+1).toString());return valid};this._findCycle=function(){for(var d=0;d<9;d++)if(path=this.squares[d].findPath()){this.cycleSquares=path[0];this.cycleMarks=path[1];this.diverseSquares=[];for(d=0;d<this.cycleSquares.length;d++){for(var g=
this.square(this.cycleSquares[d]),e=false,i=null,m=this.cycleMarks.slice(0),f=0;f<g.marks.length;f++){for(var h=g.marks[f],c=0;c<m.length;c++)if(m[c]==h){if(i===null)i=h.player;else if(i!=h.player){e=true;break}m.splice(c,1)}if(e)break}if(e)this.diverseSquares[g.num]=true}return}this.diverseSquares=this.cycleMarks=this.cycleSquares=null};this.validMove=function(d){moves=this.validMoves;notation=d.dumps();for(d=0;d<moves.length;d++)if(moves[d]==notation)return true;return false};this.dumps=function(){for(var d=
[],g=0;g<this.moves.length;g++)d.push(this.moves[g].dumps());return d.join("/")};this.weight=1;this.squares=[];this.moves=[];this.cycleMarks=this.cycleSquares=this.outcome=null;this.nextAction=START_SPOOKY;for(var v=0;v<9;v++)this.squares[v]=new Square(v+1);this.update()};
function Status(){this.flash=function(d,c){if(!this.flashing){this.flashing=true;var b=[this.el.html(),this.el.css("color")];this.queue(d,c,b);d=this}};this.queue=function(d,c,b){c=c||"#000";var a=this,h=a.msg.length+1,g=safeCallback($game,function(){if(b||a.msg.length==h){var e;e=b?a.msg[0]:a.msg.pop();a.el.html(e[0]).css("color",e[1]).animate({opacity:1},500);if(b)a.msg=a.msg.slice(1);else{a.msg=[];a.snoozing=false}}b&&safeTimeout($game,function(){a.el.stop().animate({opacity:0},500,null,safeCallback($game,
function(){a.flashing=false;var f=a.msg.pop();a.queue(f[0],f[1])}))},1500)});if(b){this.msg.push(b);this.msg=[[d,c]].concat(this.msg)}else this.msg.push([d,c]);if(b||!this.snoozing&&!this.flashing){this.snoozing=true;this.el.stop().animate({opacity:0},500,null,g)}else this.flashing||safeTimeout($game,g,500)};this.el=$('<div id="status">').appendTo($game);this.msg=[]};
function Square(n){this.findPath=function(b,a){b=b||this;a=a||[];for(var f=0;f<this.marks.length;f++){for(var c=this.marks[f],d=false,e=0;e<a.length;e++)if(a[e]==c){d=true;break}if(!d)if(c.type==SPOOKY)if(c.link.square==b)return[[m.num],[c,c.link]];else{a.push(c);a.push(c.link);d=c.link.square.findPath(b,a);if(d!==null){d[0].push(m.num);d[1].push(c);d[1].push(c.link);return d}}}return null};this.isClassic=function(){if(!m.marks.length)return false;if(m.marks[0].type==CLASSIC)return true;return false};
this.marker=function(){if(!m.marks.length)return null;if(m.marks[0].type==CLASSIC)return m.marks[0].player;return null};this.collapse=function(b){var a=null;b.sort();for(var f=0,c=qtpy.state.square(b[0]).marks;f<c.length;f++)for(var d=c[f],e=0;e<b.length;e++)if(d.link.square.num==b[e])if(a===null)a=d;else if(d.weight<a.weight){a=d;break}this.num==b[0]?a.goClassic():a.link.goClassic()};this.newSpooky=function(b,a,f){function c(){j.animateAlong(j.orbit,o,false,safeCallback($game,function(){if(!(j.classic||
d.marked)){if(qtpy.state.outcome){j.hide();j.orbit.hide();j.link.hide()}f?j.attr({cx:g+i/2,cy:h+l/2+k}):j.attr({cx:g+i/2,cy:h+l/2-k});safeTimeout($game,c)}}))}if(!this.marked){var d=this,e=this.rect,g=e.attr("x"),h=e.attr("y"),i=e.attr("width"),l=e.attr("height"),k=a*5-a*a/20;e=qtpy.color(b);b=ra.circlePath(g+i/2,h+l/2,k,f).attr({fill:null,stroke:qtpy.lightColor(b),cx:g+i/2,cy:h+l/2,r:k}).behindBoard();var j=ra.circle().attr({fill:e,stroke:e,r:3,cx:g+i/2,cy:h+l/2+(f?k:-k)});j.orbit=b;var o=a*a*750+
250;c();return j}};this.startSpooky=function(b,a){this.spooky=this.newSpooky(b,a||qtpy.state.weight);qtpy.state.spookySquare=this};this.finishSpooky=function(b,a,f){function c(){h.attr("path","M"+d.attr("cx")+","+d.attr("cy")+"L"+e.attr("cx")+","+e.attr("cy"))}if(!this.marked){var d=a.spooky,e=this.newSpooky(b,f||qtpy.state.weight,true);f=a.marks[a.marks.length-1];var g=this.marks[this.marks.length-1],h=ra.path().attr("stroke",qtpy.lightColor(b)).behindBoard();d.link=h;e.link=h;f.spooky=d;f.orbit=
d.orbit;f.line=d.link;g.spooky=e;g.orbit=e.orbit;g.line=e.link;delete a.spooky;d.onAnimation(c);e.onAnimation(c)}};this.click=function(){if(!(this.clicked||!qtpy.state.validSquares[this.num])){switch(qtpy.state.nextAction){case START_SPOOKY:this.startSpooky(1);qtpy.state.nextAction=FINISH_SPOOKY;qtpy.status.queue("Your turn (2 of 2)");break;case FINISH_SPOOKY:if(this.spooky)return;var b=qtpy.state.spookySquare.num,a=this.num;if(b>a){var f=b;b=a;a=f}qtpy.state.step(new Move(1,qtpy.state.weight,b,a));
this.finishSpooky(1,qtpy.state.spookySquare,qtpy.state.weight-1);break;case MEASURE:if(!qtpy.state.diverseSquares[this.num])return;var c=null;b=qtpy.state.cycleSquares.slice(0);b.sort();a=qtpy.state.square(b[0]);c=null;for(f=0;f<a.marks.length;f++)for(var d=a.marks[f],e=0;e<b.length;e++)if(d.link.square.num==b[e])if(c===null||d.weight<c.weight)c=d;var g=[],h=function(i){g[i.square.num]=i.player;for(var l=0;l<i.square.marks.length;l++){var k=i.square.marks[l];k==i||g[k.link.square.num]||h(k.link)}};
h(c);g[this.num]==1?safeTimeout($game,function(){qtpy.state.step(new Move(1,c.weight,0,c.square.num))}):safeTimeout($game,function(){qtpy.state.step(new Move(1,c.weight,0,c.link.square.num))});break;default:return}m.validSquares=[];this.clicked=true}};this.num=n;this.marks=[];this.rect=ra.rect().attr({width:104,height:104,"stroke-width":0,stroke:"transparent",fill:"#FFF"});n>=3&&n<=6&&this.rect.attr("height",105);switch(n){case 1:this.rect.attr({x:2,y:2+qtpy.boardOffset});break;case 2:this.rect.attr({x:108,
y:2+qtpy.boardOffset});break;case 3:this.rect.attr({x:214,y:2+qtpy.boardOffset});break;case 4:this.rect.attr({x:2,y:107+qtpy.boardOffset});break;case 5:this.rect.attr({x:108,y:107+qtpy.boardOffset});break;case 6:this.rect.attr({x:214,y:107+qtpy.boardOffset});break;case 7:this.rect.attr({x:2,y:214+qtpy.boardOffset});break;case 8:this.rect.attr({x:108,y:214+qtpy.boardOffset});break;case 9:this.rect.attr({x:214,y:214+qtpy.boardOffset});break}var m=this};
function Move(c,d,a,b,e){this.dumps=function(){return this.sq1.toString()+this.sq2.toString()};this.player=c;this.weight=d;this.sq1=parseInt(a);this.sq2=parseInt(b);if(a&&b&&a==b)this.type=CLASSIC;else if(a&&b)this.type=SPOOKY;else if(a==0&&b)this.type=COLLAPSE;if(e)this.autoCollapsed=true};
function Mark(f,g,h,i,j){this.goClassic=function(){var c=[],a=this;for(a=0;a<this.square.marks.length;a++){var b=this.square.marks[a];b!=this&&c.push(b)}this.square.marks=[new Mark(this.square,CLASSIC,this.player,this.weight)];for(a=0;a<c.length;a++){b=c[a];b.link.square.isClassic()||b.link.goClassic()}this.classic||this.animateCollapse()};this.destroy=function(){if(this.spooky){this.spooky.animate({opacity:0},500,null,function(){this.hide()});this.orbit.animate({opacity:0},500,null,function(){this.hide()});
this.line.animate({opacity:0},500,null,function(){this.hide()})}};this.animateHide=function(){if(this.spooky){this.spooky.stop();this.spooky.orbit.animate({opacity:0},500,null,function(){this.hide()});this.spooky.link.animate({opacity:0},500,null,function(){this.hide()})}if(this.link&&this.link.spooky){this.link.spooky.orbit.animate({opacity:0},500,null,function(){this.hide()});this.link.spooky.animate({r:0},500,null,function(){this.hide()})}};this.animateCollapse=function(){var c=qtpy.color(this.player),
a=this.square.rect.attr("x")+this.square.rect.attr("width")/2,b=this.square.rect.attr("y")+this.square.rect.attr("height")/2,e=ra.circle(this.spooky?this.spooky.attr("cx"):a,this.spooky?this.spooky.attr("cy"):b,this.spooky?this.spooky.attr("r"):3).attr({fill:c,stroke:c}).behindBoard();this.classic=true;this.animateHide();if(this.square.marked)this.spooky&&this.spooky.hide();else{e.animate({cx:a,cy:b,r:35},500,"bounce",function(){this.stop()});this.animation=e;var d=this;safeTimeout($game,function(){d.spooky&&
d.spooky.hide();d.animation.hide();d.animation.stop();ra.circle(a,b,35).attr({fill:c,stroke:c})},500);if(!this.square.marked&&this.spooky)this.spooky.hide();else this.spooky&&this.spooky.link.animate({opacity:0},500);if(this.square.spooky){this.square.spooky.stop().hide();this.square.spooky.orbit.hide()}}};this.square=f;this.type=g||CLASSIC;this.player=h||1;this.weight=i||1;this.link=j||null};
jQuery(document).ready(function(){(function(c){function e(){c(document.body).unbind("dblclick");c("#capture").remove();window.qtpy={};i();f();j();window.qtpy=c.extend(qtpy,{status:new Status,state:new State,newGame:arguments.callee,mobileSafari:c(document.body).is(".mobileSafari"),click:p,color:function(a){if(a==1)return"#00F";return"#F00"},lightColor:function(a){if(a==1)return"#DDF";return"#FDD"}});q();$game.mouseup(qtpy.click);qtpy.status.queue("Your turn (1 of 2)")}function f(){qtpy.boardOffset=
c(document.body).is(".mobileSafari:not(.standalone)")?98:78;window.ra&&ra.clear();window.$game&&$game.remove();window.$game=c('<div id="game">').appendTo(document.body);window.ra=Raphael("game",320,418)}function j(){function a(){var h=0;if(--b[0]<0)b[0]=2;if(--b[1]<0)b[1]=2;if(--b[2]<0)b[2]=2;c1.attr({cx:112.154,cy:34.117,fill:d[b[0]],stroke:d[b[0]]});c2.attr({cx:117.965,cy:36.849,fill:d[b[1]],stroke:d[b[1]]});c3.attr({cx:119.809,cy:42.999,fill:d[b[2]],stroke:d[b[2]]});var g=safeCallback($game,function(){++h==
3&&safeTimeout($game,a)});c1.animateAlong(o1,1E3,false,g);c2.animateAlong(o2,1E3,false,g);c3.animateAlong(o3,1E3,false,g)}window.ti&&ti.clear();c("#title").remove();c('<div id="title">').appendTo($game).css({position:"absolute",top:0});window.ti=Raphael("title",320,50);ti.path("M140.701,14.627v1.728c0,1.536-0.672,2.4-2.4,2.4s-2.4-0.864-2.4-2.4V9.826h23.714v6.528c0,1.536-0.672,2.4-2.4,2.4 s-2.4-0.864-2.4-2.4v-1.728h-4.656v30.146c0,1.536-0.672,2.4-2.4,2.4c-1.728,0-2.4-0.864-2.4-2.4V14.627H140.701z").attr("fill",
"black");ti.path("M175.261,44.773c0,1.536-0.673,2.4-2.4,2.4s-2.4-0.864-2.4-2.4V9.826h15.938c2.208,0,3.792,0.336,5.521,1.969 c2.064,1.92,2.256,3.696,2.256,6.288v6.528c0,2.448-0.191,4.177-1.968,6.145c-1.872,2.112-3.841,2.305-6.433,2.305h-10.513V44.773z M175.261,28.26h10.657c2.832,0,3.455-0.72,3.455-3.456v-6.721c0-2.736-0.623-3.456-3.455-3.456h-10.657V28.26z").attr("fill","black");ti.path("M216.143,28.331V25.69c0-1.584,0.336-3.168,2.305-3.168s2.305,1.584,2.305,3.168v1.872c0,1.152-0.096,1.921-0.576,2.929 l-6.589,15.282c-1.008,2.16-1.537,2.4-3.648,2.4h-3.553c-1.344,0-3.168-0.288-3.168-2.305c0-1.968,1.633-2.304,3.168-2.304h3.168\t\tl1.818-4.643h-0.24c-1.92,0-2.016-0.864-2.734-2.448l-2.275-4.928c-0.623-1.392-1.104-2.448-1.104-3.792V25.69\t\tc0-1.584,0.336-3.168,2.305-3.168c1.967,0,2.305,1.584,2.305,3.168v2.641l2.801,5.983h1.008L216.143,28.331z").attr("fill",
"black");var d=["#000","#666","#999"],b=[0,1,2];c1=ti.circle(112.154,34.117,3).attr({fill:d[b[0]],stroke:d[b[0]]});c2=ti.circle(117.965,36.849,3).attr({fill:d[b[1]],stroke:d[b[1]]});ti.path("M111.47,45.493c-1.344,1.152-2.448,1.681-4.32,1.681c-1.632,0-3.12-0.624-4.224-1.824\t\tc-1.344-1.488-1.584-2.784-1.584-4.705V28.068c0-3.505,1.248-5.713,3.84-7.921l9.793-8.353c1.248-1.104,2.352-1.969,4.081-1.969\t\tc3.648,0,6,2.688,6,6.24v12.722c0,3.696-0.96,5.809-3.792,8.257L111.47,45.493z M117.711,33.876\t\tc2.208-1.823,2.544-2.496,2.544-5.376V16.547c0-0.768,0.096-1.92-0.96-1.92c-0.576,0-0.912,0.479-1.344,0.815l-9.648,8.354\t\tc-1.632,1.392-2.16,2.304-2.16,4.464v12.434c0,0.768-0.048,1.68,1.056,1.68c0.528,0,1.056-0.384,1.44-0.72L117.711,33.876z").attr("fill",
"black");c3=ti.circle(119.809,42.999,3).attr({fill:d[b[2]],stroke:d[b[2]]});o1=ti.path("M112.154,34.117c-0.328-0.562-1.116-1.712-0.855-2.413c0.281-0.756,1.913,0.544,2.207,0.77c1.652,1.262,3.104,2.806,4.459,4.376").attr({"stroke-width":0,stroke:"transparent"});o2=ti.path("M117.965,36.849c1.354,1.571,2.666,3.236,3.67,5.056c0.223,0.403,1.087,1.79,0.582,2.226c-0.561,0.483-2.022-0.822-2.407-1.132").attr({"stroke-width":0,stroke:"transparent"});o3=ti.path("M119.809,42.999c-2.984-2.396-5.726-5.578-7.655-8.882").attr({"stroke-width":0,
stroke:"transparent"});a();ra.path("M271.738,15.103c-0.961,1.609-2.719,2.687-4.727,2.687c-3.037,0-5.5-2.462-5.5-5.5s2.463-5.5,5.5-5.5c2.856,0,5.206,2.18,5.475,4.968");ra.path("M270.695,11.653l2.222,1.019l1.021-2.22L270.695,11.653z");$game.difficultyIcons=[[ra.path("M292.023,10.749l1.064-1.065l-1.064-1.065V10.749z").hide(),ra.path("M292.023,15.96l1.064-1.064l-1.064-1.065V15.96z").hide(),ra.path("M282.332,14.896h9.691").hide(),ra.path("M282.332,9.684h9.691").hide()],[ra.path("M292.023,10.749l1.064-1.065l-1.064-1.065V10.749z").hide(),
ra.path("M292.023,15.96l1.064-1.064l-1.064-1.065V15.96z").hide(),ra.path("M282.332,9.684h2.361c2.881,0,2.33,5.211,5.211,5.211h2.119").hide(),ra.path("M282.332,14.896h2.361c2.881,0,2.33-5.211,5.211-5.211h2.119").hide()]];$game.infoIcon=[ra.path("M307.71,6.79c3.038,0,5.5,2.462,5.5,5.5s-2.462,5.5-5.5,5.5s-5.5-2.462-5.5-5.5S304.672,6.79,307.71,6.79z"),ra.path("M308.161,14.492h0.646c0.288,0,0.596,0.063,0.596,0.432c0,0.378-0.343,0.432-0.596,0.432h-2.195c-0.252,0-0.595-0.054-0.595-0.432c0-0.369,0.307-0.432,0.595-0.432h0.685v-3.124h-0.685c-0.252,0-0.595-0.054-0.595-0.432c0-0.369,0.307-0.432,0.595-0.432h0.909c0.494,0,0.64,0.09,0.64,0.603V14.492z").attr({fill:"#000",
"stroke-width":0,stroke:"transparent"}),ra.path("M306.855,8.757c0-0.306,0.171-0.405,0.404-0.405h0.495c0.234,0,0.405,0.099,0.405,0.405v0.414c0,0.306-0.171,0.405-0.405,0.405h-0.495c-0.233,0-0.404-0.099-0.404-0.405V8.757z").attr({fill:"#000","stroke-width":0,stroke:"transparent"})];c('<a id="info" class="icon" title="About" href="javascript:;" onclick="return false;" onmousedown="return false;" onmouseup="return false;" target="__blank__"></a>').appendTo($game).click(r);c('<a id="difficulty" class="icon" title="Difficulty" href="javascript:;" onclick="return false;" onmousedown="return false;" onmouseup="return false;"></a>').appendTo($game).click(function(){i();
s()});c('<a id="newgame" class="icon" title="New game" href="javascript:;" onclick="return false;" onmousedown="return false;" onmouseup="return false;"></a>').appendTo($game).click(function(){c(document.body).is(".mobileSafari")&&window.scrollTo(0,1);e();return false});difficulty==0?l():m()}function t(){if(c(document.body).is(".mobileSafari")){document.body.ontouchmove=function(a){window.scrollTo(0,1);a.preventDefault();return false};c(document.body).click(function(){window.scrollTo(0,1)})}}function u(){if(c(document.body).is(".mobileSafari")){document.body.ontouchmove=
function(){};c(document.body).unbind("click")}}function q(){for(var a=[1,107,213,319],d=qtpy.boardOffset,b=0;b<4;b++)ra.path("M "+a[0]+","+(d+a[b])+" L "+a[3]+","+(d+a[b]));for(b=0;b<4;b++)ra.path("M "+a[b]+","+(d+a[0])+" L "+a[b]+","+(d+a[3]))}function l(){for(var a=0;a<4;a++)$game.difficultyIcons[1][a].hide();for(a=0;a<4;a++)$game.difficultyIcons[0][a].show();localStorage.setItem("difficulty",difficulty=0)}function m(){for(var a=0;a<4;a++)$game.difficultyIcons[0][a].hide();for(a=0;a<4;a++)$game.difficultyIcons[1][a].show();
localStorage.setItem("difficulty",difficulty=1)}function s(){if(parseInt(localStorage.getItem("difficulty"))){l();qtpy.status.flash("Learning mode")}else{m();qtpy.status.flash("Challenge mode")}}function v(){function a(k){if(k.children("img").length)return true}function d(k,w,x){k.append('<img src="'+w+'" title="'+x+'">')}c(document.body).is(".mobileSafari")&&window.scrollTo(0,1);c(document.body).addClass("info");u();$game.infoIcon[0].attr("fill","#000");$game.infoIcon[1].attr("fill","#FFF");$game.infoIcon[2].attr("fill",
"#FFF");var b=c("#rulesMarks"),h=c("#rulesCycle"),g=c("#rulesDiverse"),n=c("#rulesEntangled"),o=c("#rulesWin");a(b)||d(b,"rules-marks.png","Spooky marks");a(h)||d(h,"rules-cycle.png","Cycle squares");a(g)||d(g,"rules-diverse.png","Cycle squares without mark diversity");a(n)||d(n,"rules-entangled.png","Entangled marks");a(o)||d(o,"rules-win.png","Tic-tac-toe")}function i(){c(document.body).removeClass("info");t();c(document.body).is(".mobileSafari")&&window.scrollTo(0,1);if(window.$game){$game.infoIcon[0].attr("fill",
"#FFF");$game.infoIcon[1].attr("fill","#000");$game.infoIcon[2].attr("fill","#000")}}function r(){c(document.body).is(".info")?i():v()}function p(a){if(!c(document.body).is(".info")){var d=$game.position().top-(qtpy.mobileSafari?0:230),b=$game.position().left-(qtpy.mobileSafari?0:160);b=a.pageX-b;a=a.pageY-d;a<qtpy.boardOffset||a>qtpy.boardOffset+320||qtpy.state.squares[(a<qtpy.boardOffset+106?0:a<qtpy.boardOffset+213?1:2)*3+(b<107?0:b<213?1:2)].click()}}if(navigator.userAgent.match(/iPod|iPad|iPhone/i)&&
navigator.userAgent.match(/AppleWebKit/)){c(document.body).addClass("mobileSafari");navigator.standalone&&c(document.body).addClass("standalone")}window.safeTimeout=function(){var a=arguments,d=a[0],b=a[1];setTimeout(function(){$game[0]===d[0]&&b()},a[2]||0)};window.safeCallback=function(){var a=arguments,d=a[0],b=a[1];return function(){$game[0]===d[0]&&b(arguments)}};localStorage.setItem("difficulty",localStorage.getItem("difficulty")||0);difficulty=parseInt(localStorage.getItem("difficulty"));e();
msg=qtpy.status.msg[0];qtpy.status.flash("by John Driscoll");qtpy.status.queue(msg[0],msg[1])})(jQuery)});windowOnLoad=window.onload;
window.onload=function(){windowOnLoad&&windowOnLoad();if($(document.body).is(".mobileSafari")){setTimeout(function(){window.scrollTo(0,1)},1);var c=function(){$("#flipIndicator").remove();$(document.body).removeClass("landscape")},e=function(){$(document.body).addClass("landscape");$('<div id="flipIndicator">Flip to play</div>').appendTo($game);window.scrollTo(0,1)};window.onorientationchange=function(){switch(window.orientation){case 90:case -90:qtpy.newGame();e();break;case 0:c();setTimeout(function(){window.scrollTo(0,
1)},1)}};window.orientation!=0&&e()}};Raphael.el.behindBoard=function(){this.insertAfter(qtpy.state.squares[8].rect);return this};Raphael.fn.circlePath=function(c,e,f,j){return window.ra.path(j?"M"+c+","+(e+f)+"A"+f+","+f+",0,1,1,"+(c+0.1)+","+(e+f):"M"+c+","+(e-f)+"A"+f+","+f+",0,1,1,"+(c-0.1)+","+(e-f))};
